{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../youngblood/bundle/youngblood.js","webpack:///./src/index.ts","webpack:///./src/scene/loading.ts","webpack:///./src/scene/ingame.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","factory","window","Scene","options","this","sceneId","initialized","alwaysInitialize","initCallback","init","gameEntities","systems","registerSystem","system","systemId","unregisterSystem","addEntity","entity","id","extendStatics","__extends","b","setPrototypeOf","__proto__","Array","__","constructor","Component","default","Position","_super","x","y","_this","Velocity","Label","txt","color","font","isVisible","Sprite","spriteSource","AnimatedSprite","animationSheet","undefined","animationName","keys","scale","loop","isPlaying","flip","currentFrame","AudioSource","audioBuffer","Box","width","height","fillStyle","BoxCollider","InputMapping","mapping","length","game_1","Game","scene_1","entity_1","Entity","component_1","component_2","system_1","InputMappingSystem","inputmanager_1","audiomanager_1","assetloader_1","renderer_1","renderer","services","input","audio","assets","game","switchToScene","gameScenes","currentScene","fps","then","Date","now","console","info","startRendering","canvasSelector","ctx","document","querySelector","getContext","imageSmoothingEnabled","setRenderer","startSystem","setFramerate","f","addScene","sceneOptions","error","requestAnimationFrame","interval","delta","e","hasComponents","requiredComponents","update","InputManager","that","pressedKeys","addEventListener","indexOf","keyCode","push","splice","isPressed","AudioManager","audioContext","AudioContext","webkitAudioContext","songsPlaying","masterVolume","createGain","musicVolume","connect","effectsVolume","destination","setBackgroundMusic","buffer","source","createBufferSource","start","onended","playSound","AssetLoader","completionCallback","loadCounter","readyCounter","imageTypes","objectTypes","audioTypes","addImageTask","url","Image","src","onload","attemptCompletionCallback","deriveObjectName","addHttpTask","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","responseText","overrideMimeType","open","send","addBufferTask","responseType","decodeAudioData","response","addTaskList","fileList","split","ext","slice","isReady","getProgress","getAsset","callback","lastIndexOf","scene","cur","fillRect","canvas","hasComponent","fillText","drawImage","translate","startX","frameWidth","startY","frameHeight","setTransform","frames","count","addComponent","component","removeComponent","componentName","componentArray","len","SystemType","SystemScope","type","NonRender","inputMapping","code","Render","youngblood_1","loading_1","ingame_1","innerWidth","innerHeight","loading","ingame","context","label","proceed","handler","wolfMovementSystem","bg_image","background","wolf_sheet","wolf_info","wolf","sprite","pos","right","left"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"yb\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yb\"] = factory();\n\telse\n\t\troot[\"yb\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Scene = /** @class */ (function () {\r\n    function Scene(options) {\r\n        this.sceneId = options.sceneId;\r\n        this.initialized = false;\r\n        this.alwaysInitialize = options.alwaysInitialize || true;\r\n        this.initCallback = options.init;\r\n        this.gameEntities = {};\r\n        this.systems = {};\r\n    }\r\n    Scene.prototype.registerSystem = function (system) {\r\n        this.systems[system.systemId] = system;\r\n    };\r\n    Scene.prototype.unregisterSystem = function (system) {\r\n        delete this.systems[system.systemId];\r\n    };\r\n    Scene.prototype.addEntity = function (entity) {\r\n        this.gameEntities[entity.id] = entity;\r\n    };\r\n    return Scene;\r\n}());\r\nexports.Scene = Scene;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Components provide entities with attributes\r\n * that relate to in-game functionality.\r\n * Like entities, components are JUST DATA and not logic!\r\n */\r\nvar Component = /** @class */ (function () {\r\n    function Component(name) {\r\n        this.name = name;\r\n    }\r\n    return Component;\r\n}());\r\nexports.default = Component;\r\nvar Position = /** @class */ (function (_super) {\r\n    __extends(Position, _super);\r\n    function Position(x, y) {\r\n        var _this = _super.call(this, 'Position') || this;\r\n        _this.x = x;\r\n        _this.y = y;\r\n        return _this;\r\n    }\r\n    return Position;\r\n}(Component));\r\nexports.Position = Position;\r\nvar Velocity = /** @class */ (function (_super) {\r\n    __extends(Velocity, _super);\r\n    function Velocity(x, y) {\r\n        var _this = _super.call(this, 'Velocity') || this;\r\n        _this.x = x;\r\n        _this.y = y;\r\n        return _this;\r\n    }\r\n    return Velocity;\r\n}(Component));\r\nexports.Velocity = Velocity;\r\nvar Label = /** @class */ (function (_super) {\r\n    __extends(Label, _super);\r\n    function Label(txt, options) {\r\n        var _this = _super.call(this, 'Label') || this;\r\n        _this.txt = txt;\r\n        _this.color = options.color || '#000';\r\n        _this.font = options.font || 'monospace';\r\n        _this.isVisible = options.isVisible || true;\r\n        return _this;\r\n    }\r\n    return Label;\r\n}(Component));\r\nexports.Label = Label;\r\nvar Sprite = /** @class */ (function (_super) {\r\n    __extends(Sprite, _super);\r\n    function Sprite(spriteSource) {\r\n        var _this = _super.call(this, 'Sprite') || this;\r\n        _this.spriteSource = spriteSource;\r\n        return _this;\r\n    }\r\n    return Sprite;\r\n}(Component));\r\nexports.Sprite = Sprite;\r\nvar AnimatedSprite = /** @class */ (function (_super) {\r\n    __extends(AnimatedSprite, _super);\r\n    function AnimatedSprite(spriteSource, animationSheet, options) {\r\n        var _this = _super.call(this, 'AnimatedSprite') || this;\r\n        _this.spriteSource = spriteSource;\r\n        _this.animationSheet = animationSheet;\r\n        if (options === undefined)\r\n            var options = {};\r\n        // If there's no default animation set, we'll use the first one defined in the JSON object\r\n        _this.animationName = options.animationName || Object.keys(animationSheet)[0];\r\n        _this.scale = options.scale || 1.0;\r\n        _this.loop = options.loop || true;\r\n        _this.isPlaying = options.isPlaying || true;\r\n        _this.flip = options.flip || false;\r\n        _this.currentFrame = 0;\r\n        return _this;\r\n    }\r\n    return AnimatedSprite;\r\n}(Component));\r\nexports.AnimatedSprite = AnimatedSprite;\r\nvar AudioSource = /** @class */ (function (_super) {\r\n    __extends(AudioSource, _super);\r\n    function AudioSource(audioBuffer) {\r\n        var _this = _super.call(this, 'AudioSource') || this;\r\n        _this.audioBuffer = audioBuffer;\r\n        return _this;\r\n    }\r\n    return AudioSource;\r\n}(Component));\r\nexports.AudioSource = AudioSource;\r\nvar Box = /** @class */ (function (_super) {\r\n    __extends(Box, _super);\r\n    function Box(width, height, fillStyle) {\r\n        var _this = _super.call(this, 'Box') || this;\r\n        _this.width = width;\r\n        _this.height = height;\r\n        _this.fillStyle = fillStyle;\r\n        return _this;\r\n    }\r\n    return Box;\r\n}(Component));\r\nexports.Box = Box;\r\nvar BoxCollider = /** @class */ (function (_super) {\r\n    __extends(BoxCollider, _super);\r\n    function BoxCollider(width, height) {\r\n        var _this = _super.call(this, 'BoxCollider') || this;\r\n        _this.width = width;\r\n        _this.height = height;\r\n        return _this;\r\n    }\r\n    return BoxCollider;\r\n}(Component));\r\nexports.BoxCollider = BoxCollider;\r\nvar InputMapping = /** @class */ (function (_super) {\r\n    __extends(InputMapping, _super);\r\n    // for eg. mapping = [ {name: 'up', code: 38} ]\r\n    function InputMapping(mapping) {\r\n        var _this = _super.call(this, 'InputMapping') || this;\r\n        _this.mapping = mapping;\r\n        for (var i = 0; i < mapping.length; i++) {\r\n            _this[mapping[i].name] = false;\r\n        }\r\n        return _this;\r\n    }\r\n    return InputMapping;\r\n}(Component));\r\nexports.InputMapping = InputMapping;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar game_1 = __webpack_require__(3);\r\nexports.Game = game_1.default;\r\nvar scene_1 = __webpack_require__(0);\r\nexports.Scene = scene_1.Scene;\r\nvar entity_1 = __webpack_require__(8);\r\nexports.Entity = entity_1.default;\r\nvar component_1 = __webpack_require__(1);\r\nexports.Position = component_1.Position;\r\nexports.Velocity = component_1.Velocity;\r\nexports.Sprite = component_1.Sprite;\r\nexports.AnimatedSprite = component_1.AnimatedSprite;\r\nexports.Box = component_1.Box;\r\nexports.InputMapping = component_1.InputMapping;\r\nexports.Label = component_1.Label;\r\nvar component_2 = __webpack_require__(1);\r\nexports.Component = component_2.default;\r\nvar system_1 = __webpack_require__(9);\r\nexports.InputMappingSystem = system_1.InputMappingSystem;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar scene_1 = __webpack_require__(0);\r\nvar inputmanager_1 = __webpack_require__(4);\r\nvar audiomanager_1 = __webpack_require__(5);\r\nvar assetloader_1 = __webpack_require__(6);\r\nvar renderer_1 = __webpack_require__(7);\r\nvar Game = /** @class */ (function () {\r\n    /**\r\n     * Returns a new `Game` instance.\r\n     */\r\n    function Game() {\r\n        this.renderer = null;\r\n        // these are classes that offer lower level functionality to systems\r\n        // mostly through browser APIs\r\n        this.services = {\r\n            input: new inputmanager_1.default(),\r\n            audio: new audiomanager_1.default(),\r\n            assets: new assetloader_1.default(),\r\n            game: {\r\n                switchToScene: this.switchToScene.bind(this),\r\n            },\r\n        };\r\n        this.gameScenes = {};\r\n        this.currentScene = null;\r\n        this.fps = 60;\r\n        this.then = Date.now();\r\n        console.info('Game created');\r\n    }\r\n    /**\r\n     * This is what's gonna kickstart your game when you're done setting it up!\r\n     *\r\n     * @param canvasSelector The `canvas` you want to render into. Leaving this empty assumes\r\n     * you only have one `<canvas>` element on your page. Irrelevant if you've registered\r\n     * a custom renderer.\r\n     */\r\n    Game.prototype.startRendering = function (canvasSelector) {\r\n        if (canvasSelector === void 0) { canvasSelector = 'canvas'; }\r\n        if (!this.renderer) {\r\n            var ctx = document.querySelector(canvasSelector).getContext('2d');\r\n            ctx.imageSmoothingEnabled = false;\r\n            this.setRenderer(renderer_1.default(ctx));\r\n        }\r\n        this.startSystem();\r\n        console.info(\"Started rendering at \" + this.fps + \"fps\");\r\n    };\r\n    /**\r\n     * Set an upper framerate limit. `60` by default!\r\n     * @param fps\r\n     */\r\n    Game.prototype.setFramerate = function (fps) {\r\n        this.fps = fps;\r\n        return this;\r\n    };\r\n    /**\r\n     * You can set a custom renderer instead of the default 2D one. It's a function\r\n     * that will be called at the end of every game loop.\r\n     * @param f A function that takes a `Scene` object and does something with it.\r\n     */\r\n    Game.prototype.setRenderer = function (f) {\r\n        this.renderer = f;\r\n        return this;\r\n    };\r\n    /**\r\n     * Register a new `Scene`. You'll need at least one to do anything!\r\n     * @param sceneOptions Settings for your scene, like it's name or how it should be\r\n     * initialized.\r\n     */\r\n    Game.prototype.addScene = function (sceneOptions) {\r\n        this.gameScenes[sceneOptions.sceneId] = new scene_1.Scene(sceneOptions);\r\n        this.gameScenes[sceneOptions.sceneId].assets = this.services.assets;\r\n        if (this.currentScene == null)\r\n            this.switchToScene(sceneOptions.sceneId);\r\n        console.info(\"Scene added: \" + sceneOptions.sceneId);\r\n        return this;\r\n    };\r\n    /**\r\n     * Switch to a different scene. Also available as a `SceneService`. If you don't call it\r\n     * before starting the game, it will start with the first one you added.\r\n     * @param sceneId The id provided when the scene was registered\r\n     */\r\n    Game.prototype.switchToScene = function (sceneId) {\r\n        if (this.gameScenes[sceneId] == null) {\r\n            console.error(\"Scene doesn't exist: \" + sceneId);\r\n            return;\r\n        }\r\n        this.currentScene = this.gameScenes[sceneId];\r\n        if (!this.currentScene.initialized || this.currentScene.alwaysInitialize)\r\n            this.currentScene.initCallback(this.currentScene, this.services);\r\n        return this;\r\n    };\r\n    Game.prototype.startSystem = function () {\r\n        var _this = this;\r\n        window.requestAnimationFrame(function () {\r\n            _this.startSystem();\r\n        });\r\n        this.interval = 1000 / this.fps;\r\n        this.now = Date.now();\r\n        this.delta = this.now - this.then;\r\n        if (this.delta > this.interval) {\r\n            this.then = this.now - (this.delta % this.interval);\r\n            if (!this.currentScene)\r\n                return;\r\n            for (var e in this.currentScene.gameEntities) {\r\n                for (var s in this.currentScene.systems) {\r\n                    var entity = this.currentScene.gameEntities[e];\r\n                    var system = this.currentScene.systems[s];\r\n                    if (entity.hasComponents(system.requiredComponents))\r\n                        this.currentScene.systems[s].update(entity, this.services);\r\n                }\r\n            }\r\n            this.renderer(this.currentScene);\r\n        }\r\n    };\r\n    return Game;\r\n}());\r\nexports.default = Game;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar InputManager = /** @class */ (function () {\r\n    function InputManager() {\r\n        var that = this;\r\n        this.pressedKeys = [];\r\n        window.addEventListener('keydown', function (e) {\r\n            if (that.pressedKeys.indexOf(e.keyCode) === -1)\r\n                that.pressedKeys.push(e.keyCode);\r\n        }, false);\r\n        window.addEventListener('keyup', function (e) {\r\n            that.pressedKeys.splice(that.pressedKeys.indexOf(e.keyCode), 1);\r\n        }, false);\r\n    }\r\n    InputManager.prototype.isPressed = function (key) {\r\n        return this.pressedKeys.indexOf(key) !== -1;\r\n    };\r\n    return InputManager;\r\n}());\r\nexports.default = InputManager;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-angle-bracket-type-assertion */\r\nvar AudioManager = /** @class */ (function () {\r\n    function AudioManager() {\r\n        try {\r\n            this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n            this.songsPlaying = [];\r\n            this.masterVolume = this.audioContext.createGain();\r\n            this.musicVolume = this.audioContext.createGain();\r\n            this.musicVolume.connect(this.masterVolume);\r\n            this.effectsVolume = this.audioContext.createGain();\r\n            this.effectsVolume.connect(this.masterVolume);\r\n            this.masterVolume.connect(this.audioContext.destination);\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n    AudioManager.prototype.setBackgroundMusic = function (buffer, loop) {\r\n        if (this.songsPlaying.indexOf(buffer) == -1) {\r\n            var that = this;\r\n            var source = this.audioContext.createBufferSource();\r\n            source.buffer = buffer;\r\n            source.loop = loop || false;\r\n            source.connect(this.musicVolume);\r\n            source.start();\r\n            source.onended = function () {\r\n                if (!loop)\r\n                    that.songsPlaying.splice(that.songsPlaying.indexOf(buffer), 1);\r\n            };\r\n            this.songsPlaying.push(buffer);\r\n        }\r\n    };\r\n    AudioManager.prototype.playSound = function (buffer, loop) {\r\n        var source = this.audioContext.createBufferSource();\r\n        source.buffer = buffer;\r\n        source.loop = loop || false;\r\n        source.connect(this.effectsVolume);\r\n        source.start();\r\n    };\r\n    return AudioManager;\r\n}());\r\nexports.default = AudioManager;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nvar AssetLoader = /** @class */ (function () {\r\n    function AssetLoader(completionCallback) {\r\n        this.completionCallback = completionCallback || (function () { });\r\n        this.loadCounter = 0;\r\n        this.readyCounter = 0;\r\n        this.assets = {};\r\n        // asset loader uses it's own audio context to decode incoming buffers\r\n        this.audio = new (window.AudioContext || window.webkitAudioContext)();\r\n        this.imageTypes = ['.png', '.jpg', '.gif'];\r\n        this.objectTypes = ['.txt', 'json'];\r\n        this.audioTypes = ['.wav', '.mp3', '.ogg'];\r\n    }\r\n    AssetLoader.prototype.addImageTask = function (url, name) {\r\n        var that = this;\r\n        var i = new Image();\r\n        i.src = url;\r\n        i.onload = function () {\r\n            that.readyCounter++;\r\n            that.attemptCompletionCallback(that.completionCallback);\r\n        };\r\n        this.assets[this.deriveObjectName(url, name)] = i;\r\n        this.loadCounter++;\r\n    };\r\n    AssetLoader.prototype.addHttpTask = function (url, name) {\r\n        var r = new XMLHttpRequest();\r\n        var that = this;\r\n        r.onreadystatechange = function () {\r\n            if (r.readyState == 4 && r.status == 200) {\r\n                that.assets[that.deriveObjectName(url, name)] = JSON.parse(r.responseText);\r\n                that.readyCounter++;\r\n                that.attemptCompletionCallback(that.completionCallback);\r\n            }\r\n        };\r\n        r.overrideMimeType('application/json');\r\n        r.open('GET', url, true);\r\n        r.send(null);\r\n        this.loadCounter++;\r\n    };\r\n    AssetLoader.prototype.addBufferTask = function (url, name) {\r\n        var that = this;\r\n        var r = new XMLHttpRequest();\r\n        r.responseType = 'arraybuffer';\r\n        r.open('GET', url, true);\r\n        r.onload = function () {\r\n            that.audio.decodeAudioData(r.response, function (buffer) {\r\n                that.assets[that.deriveObjectName(url, name)] = buffer;\r\n                that.readyCounter++;\r\n                that.attemptCompletionCallback(that.completionCallback);\r\n            }, function () {\r\n                console.error('Error decoding audio');\r\n            });\r\n        };\r\n        r.send();\r\n        this.loadCounter++;\r\n    };\r\n    AssetLoader.prototype.addTaskList = function (url) {\r\n        var that = this;\r\n        // load a list of txt files\r\n        var r = new XMLHttpRequest();\r\n        r.onreadystatechange = function () {\r\n            if (r.readyState == 4 && r.status == 200) {\r\n                var fileList = r.responseText.split('\\n');\r\n                for (var i = 0; i < fileList.length; i++) {\r\n                    var ext = fileList[i].indexOf('\\r') == -1 ? fileList[i].slice(-4) : fileList[i].slice(-5).slice(0, -1);\r\n                    if (that.imageTypes.indexOf(ext) != -1) {\r\n                        that.addImageTask(fileList[i]);\r\n                    }\r\n                    if (that.objectTypes.indexOf(ext) != -1) {\r\n                        that.addHttpTask(fileList[i]);\r\n                    }\r\n                    if (that.audioTypes.indexOf(ext) != -1) {\r\n                        that.addBufferTask(fileList[i]);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        r.overrideMimeType('application/json');\r\n        r.open('GET', url, true);\r\n        r.send(null);\r\n    };\r\n    // you can even track progress with this thing. it's kinda the point actually\r\n    AssetLoader.prototype.isReady = function () {\r\n        if (this.loadCounter == 0)\r\n            return false;\r\n        else\r\n            return this.readyCounter == this.loadCounter;\r\n    };\r\n    AssetLoader.prototype.getProgress = function () {\r\n        if (this.loadCounter != 0)\r\n            return (this.readyCounter / this.loadCounter) * 100;\r\n        else\r\n            return 0;\r\n    };\r\n    AssetLoader.prototype.getAsset = function (name) {\r\n        return this.assets[name];\r\n    };\r\n    AssetLoader.prototype.attemptCompletionCallback = function (callback) {\r\n        if (this.readyCounter == this.loadCounter && callback !== undefined)\r\n            callback();\r\n    };\r\n    AssetLoader.prototype.deriveObjectName = function (url, name) {\r\n        if (name === undefined) {\r\n            var f = url.slice(url.lastIndexOf('/') + 1);\r\n            return f.slice(0, f.indexOf('.'));\r\n        }\r\n        else\r\n            return name;\r\n    };\r\n    return AssetLoader;\r\n}());\r\nexports.default = AssetLoader;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function (ctx) { return function (scene) {\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    var cur;\r\n    for (var e in scene.gameEntities) {\r\n        cur = scene.gameEntities[e];\r\n        // This basic shape is more of a testing thing\r\n        if (cur.hasComponent('Box') && cur.hasComponent('Position')) {\r\n            ctx.fillStyle = cur.Box.fillStyle;\r\n            ctx.fillRect(cur.Position.x, cur.Position.y, cur.Box.width, cur.Box.height);\r\n        }\r\n        if (cur.hasComponent('Label') && cur.hasComponent('Position')) {\r\n            ctx.fillStyle = cur.Label.color;\r\n            ctx.fillText(cur.Label.txt, cur.Position.x, cur.Position.y);\r\n        }\r\n        // Render a single sprite\r\n        if (cur.hasComponent('Sprite') && cur.hasComponent('Position')) {\r\n            ctx.drawImage(cur.Sprite.spriteSource, cur.Position.x, cur.Position.y);\r\n        }\r\n        // Render an animated sprite\r\n        if (cur.hasComponents(['AnimatedSprite', 'Position'])) {\r\n            var c = cur.AnimatedSprite;\r\n            var f = c.animationSheet[c.animationName];\r\n            if (c.flip) {\r\n                ctx.translate(cur.Position.x, 0);\r\n                ctx.scale(-1, 1);\r\n            }\r\n            ctx.drawImage(c.spriteSource, f.startX + c.currentFrame * f.frameWidth, f.startY, f.frameWidth, f.frameHeight, c.flip ? -c.scale * f.frameWidth : cur.Position.x, cur.Position.y, f.frameWidth * c.scale, f.frameHeight * c.scale);\r\n            if (c.flip)\r\n                ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n            if (c.isPlaying) {\r\n                if (c.currentFrame >= f.frames - 1)\r\n                    c.currentFrame = 0;\r\n                else\r\n                    c.currentFrame++;\r\n            }\r\n        }\r\n    }\r\n}; });\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Entity = /** @class */ (function () {\r\n    function Entity() {\r\n        this.id = Entity.prototype.count;\r\n        Entity.prototype.count++;\r\n    }\r\n    Entity.prototype.addComponent = function (component) {\r\n        this[component.name] = component;\r\n    };\r\n    Entity.prototype.removeComponent = function (componentName) {\r\n        delete this[componentName];\r\n    };\r\n    Entity.prototype.hasComponent = function (componentName) {\r\n        return this[componentName] != null;\r\n    };\r\n    Entity.prototype.hasComponents = function (componentArray) {\r\n        var len = componentArray.length;\r\n        for (var i = 0; i < len; i++) {\r\n            if (!this.hasComponent(componentArray[i]))\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    Entity.prototype.get = function (name) {\r\n        switch (name) {\r\n            case 'Velocity':\r\n                return this[name];\r\n            case 'Position':\r\n                return this[name];\r\n            case 'Sprite':\r\n                return this[name];\r\n            case 'AnimatedSprite':\r\n                return this[name];\r\n            case 'InputMapping':\r\n                return this[name];\r\n            default:\r\n                return this[name];\r\n        }\r\n    };\r\n    return Entity;\r\n}());\r\nexports.default = Entity;\r\nEntity.prototype.count = 0;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SystemScope;\r\n(function (SystemScope) {\r\n    SystemScope[SystemScope[\"Local\"] = 0] = \"Local\";\r\n    SystemScope[SystemScope[\"Global\"] = 1] = \"Global\";\r\n})(SystemScope = exports.SystemScope || (exports.SystemScope = {}));\r\nvar SystemType;\r\n(function (SystemType) {\r\n    SystemType[SystemType[\"NonRender\"] = 0] = \"NonRender\";\r\n    SystemType[SystemType[\"Render\"] = 1] = \"Render\";\r\n})(SystemType = exports.SystemType || (exports.SystemType = {}));\r\nexports.InputMappingSystem = {\r\n    systemId: 'inputMappingSystem',\r\n    type: SystemType.NonRender,\r\n    requiredComponents: ['InputMapping'],\r\n    update: function (entity, services) {\r\n        var inputMapping = entity['InputMapping'];\r\n        for (var i = 0; i < inputMapping.mapping.length; i++) {\r\n            var c = inputMapping.mapping[i];\r\n            inputMapping[c.name] = services.input.isPressed(c.code);\r\n        }\r\n    },\r\n};\r\nvar RenderSystem = {\r\n    systemId: 'renderSystem',\r\n    type: SystemType.Render,\r\n    requiredComponents: [],\r\n    update: function (entity) { },\r\n};\r\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=youngblood.js.map","import { \r\n    Game, \r\n} from 'youngblood';\r\n\r\nimport { loading } from './scene/loading';\r\nimport { ingame } from './scene/ingame';\r\n\r\nsetCanvasSize(document.querySelector('canvas'));\r\n\r\nnew Game()\r\n    .addScene(loading)\r\n    .addScene(ingame)\r\n    .setFramerate(20)\r\n    .startRendering();\r\n\r\nfunction setCanvasSize(c: HTMLCanvasElement | null) {\r\n    if (c) {\r\n        c.width = window.innerWidth;\r\n        c.height = window.innerHeight;\r\n    }\r\n}","import { SceneOptions, SceneServices, Scene, InputMappingSystem, Entity, InputMapping, Label, Position } from \"youngblood\";\r\n\r\nexport var loading: SceneOptions = {\r\n    sceneId: 'loading',\r\n    alwaysInitialize: false,\r\n    init: function (context: Scene, services: SceneServices) {\r\n        context.registerSystem(InputMappingSystem);\r\n        context.registerSystem({\r\n            systemId: 'labelSystem',\r\n            requiredComponents: ['InputMapping', 'Label'],\r\n            update: function (entity: Entity, services: SceneServices) {\r\n                let label = entity['Label'] as Label;\r\n                let inputMapping = entity['InputMapping'] as InputMapping;\r\n\r\n                if (!services.assets.isReady())\r\n                    return;\r\n                else\r\n                    label.isVisible = true;\r\n                \r\n                if (services.assets.isReady() && inputMapping.proceed) {\r\n                    services.game.switchToScene('ingame');\r\n                }\r\n            }\r\n        });\r\n\r\n        let handler = new Entity();\r\n        handler.addComponent(new InputMapping([\r\n            { name: 'proceed', code: 13 }\r\n        ]));\r\n\r\n        handler.addComponent(\r\n            new Label(\"Loading complete. Press Enter to proceed\", { \r\n                isVisible: false,\r\n                color: '#000',\r\n                font: 'Arial' \r\n            })\r\n        );\r\n        handler.addComponent(new Position(10, 10));\r\n\r\n        context.addEntity(handler);\r\n        \r\n        services.assets.addTaskList('assets/asset_list.txt');\r\n    }\r\n};","import { \r\n    SceneOptions, \r\n    Scene, \r\n    SceneServices, \r\n    Entity, \r\n    Position, \r\n    Sprite, \r\n    AnimatedSprite, \r\n    AnimationSheet, \r\n    InputMapping, \r\n    System, \r\n    InputMappingSystem \r\n} from \"youngblood\";\r\n\r\nexport var ingame: SceneOptions = {\r\n    sceneId: 'ingame',\r\n    alwaysInitialize: true,\r\n    init: function (context: Scene, services: SceneServices) {\r\n        context.registerSystem(InputMappingSystem);\r\n        context.registerSystem(wolfMovementSystem);\r\n\r\n        const bg_image = <HTMLImageElement>services.assets.getAsset('img_bg');\r\n        const background = new Entity();\r\n        background.addComponent(new Position(-150, -300));\r\n        background.addComponent(new Sprite(bg_image));\r\n\r\n        context.addEntity(background);\r\n\r\n        const wolf_sheet = <HTMLImageElement>services.assets.getAsset('80x48Wolf_FullSheet');\r\n        const wolf_info = <AnimationSheet>services.assets.getAsset('wolf_info');\r\n        const wolf = new Entity();\r\n        wolf.addComponent(new Position(100, 445));\r\n        wolf.addComponent(new InputMapping([\r\n            { name: 'right', code: 39 },\r\n            { name: 'left', code: 37 }\r\n        ]));\r\n        wolf.addComponent(new AnimatedSprite(wolf_sheet, wolf_info, {\r\n            animationName: 'idle',\r\n            isPlaying: true,\r\n            loop: true,\r\n            scale: 5.0\r\n        }));\r\n\r\n        context.addEntity(wolf);\r\n    }\r\n}\r\n\r\nconst wolfMovementSystem: System = {\r\n    systemId: 'wolfMovementSystem',\r\n    requiredComponents: ['AnimatedSprite', 'Position', 'InputMapping'],\r\n    update: function (entity: Entity, services: SceneServices) {\r\n        const sprite = entity.get('AnimatedSprite');\r\n        const pos = entity.get('Position');\r\n        const inputMapping = entity.get('InputMapping');\r\n\r\n        if (inputMapping.right) {\r\n            sprite.animationName = 'running';\r\n            sprite.flip = false;\r\n            pos.x += 20;\r\n        } else if (inputMapping.left) {\r\n            sprite.animationName = 'running';\r\n            sprite.flip = true;\r\n            pos.x -= 20;\r\n        } else {\r\n            sprite.animationName = 'idle';\r\n        }\r\n    }\r\n}"],"sourceRoot":""}