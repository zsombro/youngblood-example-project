{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../youngblood/bundle/youngblood.js","webpack:///./src/index.ts","webpack:///./src/scene/loading.ts","webpack:///./src/scene/ingame.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","factory","window","game_1","Game","default","scene_1","Scene","entity_1","Entity","component_1","Component","Position","Velocity","Sprite","AnimatedSprite","Box","InputMapping","Label","system_1","InputMappingSystem","inputmanager_1","audiomanager_1","assetloader_1","canvasContext","this","imageSmoothingEnabled","services","input","audio","assets","game","switchToScene","gameScenes","currentScene","fps","then","Date","now","console","log","startRendering","startSystem","addScene","scene","sceneId","initialized","alwaysInitialize","initCallback","error","setDebugMode","isDebug","debugMode","getDebugMode","message","_this","requestAnimationFrame","interval","delta","e","gameEntities","systems","entity","system","hasComponents","requiredComponents","update","cur","fillStyle","fillRect","canvas","width","height","hasComponent","x","y","color","fillText","txt","drawImage","spriteSource","f","animationSheet","animationName","flip","translate","scale","startX","currentFrame","frameWidth","startY","frameHeight","setTransform","isPlaying","frames","InputManager","that","pressedKeys","addEventListener","indexOf","keyCode","push","splice","isPressed","AudioManager","audioContext","AudioContext","webkitAudioContext","songsPlaying","masterVolume","createGain","musicVolume","connect","effectsVolume","destination","setBackgroundMusic","buffer","loop","source","createBufferSource","start","onended","playSound","AssetLoader","completionCallback","loadCounter","readyCounter","imageTypes","objectTypes","audioTypes","addImageTask","url","Image","src","onload","attemptCompletionCallback","deriveObjectName","addHttpTask","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","responseText","overrideMimeType","open","send","addBufferTask","responseType","decodeAudioData","response","addTaskList","fileList","split","length","ext","slice","isReady","getProgress","getAsset","callback","undefined","lastIndexOf","options","init","registerSystem","systemId","unregisterSystem","addEntity","id","count","addComponent","component","removeComponent","componentName","componentArray","len","extendStatics","__extends","b","setPrototypeOf","__proto__","Array","__","constructor","_super","font","isVisible","keys","AudioSource","audioBuffer","BoxCollider","mapping","SystemType","SystemScope","type","NonRender","inputMapping","code","Render","youngblood_1","loading_1","ingame_1","document","getElementById","innerWidth","innerHeight","getContext","loading","ingame","context","label","proceed","handler","wolfMovementSystem","bg_image","background","wolf_sheet","wolf_info","wolf","sprite","pos","right","left"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"yb\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yb\"] = factory();\n\telse\n\t\troot[\"yb\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar game_1 = __webpack_require__(1);\r\nexports.Game = game_1.default;\r\nvar scene_1 = __webpack_require__(5);\r\nexports.Scene = scene_1.Scene;\r\nvar entity_1 = __webpack_require__(6);\r\nexports.Entity = entity_1.default;\r\nvar component_1 = __webpack_require__(7);\r\nexports.Component = component_1.Component;\r\nexports.Position = component_1.Position;\r\nexports.Velocity = component_1.Velocity;\r\nexports.Sprite = component_1.Sprite;\r\nexports.AnimatedSprite = component_1.AnimatedSprite;\r\nexports.Box = component_1.Box;\r\nexports.InputMapping = component_1.InputMapping;\r\nexports.Label = component_1.Label;\r\nvar system_1 = __webpack_require__(8);\r\nexports.InputMappingSystem = system_1.InputMappingSystem;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inputmanager_1 = __webpack_require__(2);\r\nvar audiomanager_1 = __webpack_require__(3);\r\nvar assetloader_1 = __webpack_require__(4);\r\nvar Game = /** @class */ (function () {\r\n    function Game(canvasContext) {\r\n        this.canvasContext = canvasContext;\r\n        canvasContext.imageSmoothingEnabled = false;\r\n        // these are classes that offer lower level functionality to systems\r\n        // mostly through browser APIs\r\n        this.services = {\r\n            input: new inputmanager_1.default(),\r\n            audio: new audiomanager_1.default(),\r\n            assets: new assetloader_1.default(),\r\n            game: {\r\n                switchToScene: this.switchToScene.bind(this),\r\n            },\r\n        };\r\n        this.gameScenes = {};\r\n        this.currentScene = null;\r\n        this.fps = 60;\r\n        this.then = Date.now();\r\n        // @ifdef DEBUG\r\n        console.log('Game object created');\r\n        // @endif\r\n    }\r\n    Game.prototype.startRendering = function (fps) {\r\n        this.fps = fps || 60;\r\n        this.startSystem();\r\n    };\r\n    Game.prototype.addScene = function (scene) {\r\n        this.gameScenes[scene.sceneId] = scene;\r\n        // services can be accessed from a scene's init callback\r\n        this.gameScenes[scene.sceneId].assets = this.services.assets;\r\n        // Object.assign(this.gameScenes[scene.sceneId], this.services);\r\n        if (this.currentScene == null)\r\n            this.switchToScene(scene.sceneId);\r\n    };\r\n    Game.prototype.switchToScene = function (sceneId) {\r\n        if (this.gameScenes[sceneId] == null) {\r\n            console.error(\"Scene doesn't exist: \" + sceneId);\r\n            return;\r\n        }\r\n        this.currentScene = this.gameScenes[sceneId];\r\n        if (!this.currentScene.initialized || this.currentScene.alwaysInitialize)\r\n            this.currentScene.initCallback(this.currentScene, this.services);\r\n        //this.currentScene.initCallback.call(this.services);\r\n    };\r\n    Game.prototype.setDebugMode = function (isDebug) {\r\n        Game.prototype.debugMode = isDebug;\r\n    };\r\n    Game.prototype.getDebugMode = function () {\r\n        return Game.prototype.debugMode;\r\n    };\r\n    Game.prototype.log = function (message) {\r\n        if (Game.prototype.debugMode)\r\n            console.log(message);\r\n    };\r\n    Game.prototype.startSystem = function () {\r\n        var _this = this;\r\n        window.requestAnimationFrame(function () {\r\n            _this.startSystem();\r\n        });\r\n        this.interval = 1000 / this.fps;\r\n        this.now = Date.now();\r\n        this.delta = this.now - this.then;\r\n        if (this.delta > this.interval) {\r\n            this.then = this.now - (this.delta % this.interval);\r\n            if (!this.currentScene)\r\n                return;\r\n            // SYSTEM FLOW:\r\n            // registered systems\r\n            //\t(systems are registered on a per scene basis)\r\n            // default render system\r\n            //\t(this system is the same for every scene, but it could be possible to apply separate shaders)\r\n            // TODO: figure out a way to register custom render systems for components that might have special\r\n            // rendering requirements (this would also allow the development of a WebGL/ThreeJS plugin of sorts)\r\n            for (var e in this.currentScene.gameEntities) {\r\n                for (var s in this.currentScene.systems) {\r\n                    var entity = this.currentScene.gameEntities[e];\r\n                    var system = this.currentScene.systems[s];\r\n                    if (entity.hasComponents(system.requiredComponents))\r\n                        this.currentScene.systems[s].update(entity, this.services);\r\n                }\r\n            }\r\n            this.canvasContext.fillStyle = 'white';\r\n            this.canvasContext.fillRect(0, 0, this.canvasContext.canvas.width, this.canvasContext.canvas.height);\r\n            // render system\r\n            var cur;\r\n            for (var e in this.currentScene.gameEntities) {\r\n                cur = this.currentScene.gameEntities[e];\r\n                // This basic shape is more of a testing thing\r\n                if (cur.hasComponent('Box') && cur.hasComponent('Position')) {\r\n                    this.canvasContext.fillStyle = cur.Box.fillStyle;\r\n                    this.canvasContext.fillRect(cur.Position.x, cur.Position.y, cur.Box.width, cur.Box.height);\r\n                }\r\n                if (cur.hasComponent('Label') && cur.hasComponent('Position')) {\r\n                    this.canvasContext.fillStyle = cur.Label.color;\r\n                    this.canvasContext.fillText(cur.Label.txt, cur.Position.x, cur.Position.y);\r\n                }\r\n                // Render a single sprite\r\n                if (cur.hasComponent('Sprite') && cur.hasComponent('Position')) {\r\n                    this.canvasContext.drawImage(cur.Sprite.spriteSource, cur.Position.x, cur.Position.y);\r\n                }\r\n                // Render an animated sprite\r\n                if (cur.hasComponents(['AnimatedSprite', 'Position'])) {\r\n                    var c = cur.AnimatedSprite;\r\n                    var f = c.animationSheet[c.animationName];\r\n                    if (c.flip) {\r\n                        this.canvasContext.translate(cur.Position.x, 0);\r\n                        this.canvasContext.scale(-1, 1);\r\n                    }\r\n                    this.canvasContext.drawImage(c.spriteSource, f.startX + c.currentFrame * f.frameWidth, f.startY, f.frameWidth, f.frameHeight, c.flip ? -c.scale * f.frameWidth : cur.Position.x, cur.Position.y, f.frameWidth * c.scale, f.frameHeight * c.scale);\r\n                    if (c.flip)\r\n                        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\r\n                    if (c.isPlaying) {\r\n                        if (c.currentFrame >= f.frames - 1)\r\n                            c.currentFrame = 0;\r\n                        else\r\n                            c.currentFrame++;\r\n                    }\r\n                }\r\n                // @ifdef DEBUG\r\n                // this.canvasContext.fillStyle = 'rgba(0, 0, 0, 1)';\r\n                // this.canvasContext.fillText(this.services.input.pressedKeys.toString(), 40, 60);\r\n                // @endif\r\n            }\r\n        }\r\n    };\r\n    return Game;\r\n}());\r\nexports.default = Game;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar InputManager = /** @class */ (function () {\r\n    function InputManager() {\r\n        var that = this;\r\n        this.pressedKeys = [];\r\n        window.addEventListener('keydown', function (e) {\r\n            if (that.pressedKeys.indexOf(e.keyCode) === -1)\r\n                that.pressedKeys.push(e.keyCode);\r\n        }, false);\r\n        window.addEventListener('keyup', function (e) {\r\n            that.pressedKeys.splice(that.pressedKeys.indexOf(e.keyCode), 1);\r\n        }, false);\r\n    }\r\n    InputManager.prototype.isPressed = function (key) {\r\n        return this.pressedKeys.indexOf(key) !== -1;\r\n    };\r\n    return InputManager;\r\n}());\r\nexports.default = InputManager;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-angle-bracket-type-assertion */\r\nvar AudioManager = /** @class */ (function () {\r\n    function AudioManager() {\r\n        try {\r\n            this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n            this.songsPlaying = [];\r\n            this.masterVolume = this.audioContext.createGain();\r\n            this.musicVolume = this.audioContext.createGain();\r\n            this.musicVolume.connect(this.masterVolume);\r\n            this.effectsVolume = this.audioContext.createGain();\r\n            this.effectsVolume.connect(this.masterVolume);\r\n            this.masterVolume.connect(this.audioContext.destination);\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n    AudioManager.prototype.setBackgroundMusic = function (buffer, loop) {\r\n        if (this.songsPlaying.indexOf(buffer) == -1) {\r\n            var that = this;\r\n            var source = this.audioContext.createBufferSource();\r\n            source.buffer = buffer;\r\n            source.loop = loop || false;\r\n            source.connect(this.musicVolume);\r\n            source.start();\r\n            source.onended = function () {\r\n                if (!loop)\r\n                    that.songsPlaying.splice(that.songsPlaying.indexOf(buffer), 1);\r\n            };\r\n            this.songsPlaying.push(buffer);\r\n        }\r\n    };\r\n    AudioManager.prototype.playSound = function (buffer, loop) {\r\n        var source = this.audioContext.createBufferSource();\r\n        source.buffer = buffer;\r\n        source.loop = loop || false;\r\n        source.connect(this.effectsVolume);\r\n        source.start();\r\n    };\r\n    return AudioManager;\r\n}());\r\nexports.default = AudioManager;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nvar AssetLoader = /** @class */ (function () {\r\n    function AssetLoader(completionCallback) {\r\n        this.completionCallback = completionCallback || (function () { });\r\n        this.loadCounter = 0;\r\n        this.readyCounter = 0;\r\n        this.assets = {};\r\n        // asset loader uses it's own audio context to decode incoming buffers\r\n        this.audio = new (window.AudioContext || window.webkitAudioContext)();\r\n        this.imageTypes = ['.png', '.jpg', '.gif'];\r\n        this.objectTypes = ['.txt', 'json'];\r\n        this.audioTypes = ['.wav', '.mp3', '.ogg'];\r\n    }\r\n    AssetLoader.prototype.addImageTask = function (url, name) {\r\n        var that = this;\r\n        var i = new Image();\r\n        i.src = url;\r\n        i.onload = function () {\r\n            that.readyCounter++;\r\n            that.attemptCompletionCallback(that.completionCallback);\r\n        };\r\n        this.assets[this.deriveObjectName(url, name)] = i;\r\n        this.loadCounter++;\r\n    };\r\n    AssetLoader.prototype.addHttpTask = function (url, name) {\r\n        var r = new XMLHttpRequest();\r\n        var that = this;\r\n        r.onreadystatechange = function () {\r\n            if (r.readyState == 4 && r.status == 200) {\r\n                that.assets[that.deriveObjectName(url, name)] = JSON.parse(r.responseText);\r\n                that.readyCounter++;\r\n                that.attemptCompletionCallback(that.completionCallback);\r\n            }\r\n        };\r\n        r.overrideMimeType('application/json');\r\n        r.open('GET', url, true);\r\n        r.send(null);\r\n        this.loadCounter++;\r\n    };\r\n    AssetLoader.prototype.addBufferTask = function (url, name) {\r\n        var that = this;\r\n        var r = new XMLHttpRequest();\r\n        r.responseType = 'arraybuffer';\r\n        r.open('GET', url, true);\r\n        r.onload = function () {\r\n            that.audio.decodeAudioData(r.response, function (buffer) {\r\n                that.assets[that.deriveObjectName(url, name)] = buffer;\r\n                that.readyCounter++;\r\n                that.attemptCompletionCallback(that.completionCallback);\r\n            }, function () {\r\n                console.log('Error decoding audio');\r\n            });\r\n        };\r\n        r.send();\r\n        this.loadCounter++;\r\n    };\r\n    AssetLoader.prototype.addTaskList = function (url) {\r\n        var that = this;\r\n        // load a list of txt files\r\n        var r = new XMLHttpRequest();\r\n        r.onreadystatechange = function () {\r\n            if (r.readyState == 4 && r.status == 200) {\r\n                var fileList = r.responseText.split('\\n');\r\n                for (var i = 0; i < fileList.length; i++) {\r\n                    var ext = fileList[i].indexOf('\\r') == -1 ? fileList[i].slice(-4) : fileList[i].slice(-5).slice(0, -1);\r\n                    if (that.imageTypes.indexOf(ext) != -1) {\r\n                        that.addImageTask(fileList[i]);\r\n                    }\r\n                    if (that.objectTypes.indexOf(ext) != -1) {\r\n                        that.addHttpTask(fileList[i]);\r\n                    }\r\n                    if (that.audioTypes.indexOf(ext) != -1) {\r\n                        that.addBufferTask(fileList[i]);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        r.overrideMimeType('application/json');\r\n        r.open('GET', url, true);\r\n        r.send(null);\r\n    };\r\n    // you can even track progress with this thing. it's kinda the point actually\r\n    AssetLoader.prototype.isReady = function () {\r\n        if (this.loadCounter == 0)\r\n            return false;\r\n        else\r\n            return this.readyCounter == this.loadCounter;\r\n    };\r\n    AssetLoader.prototype.getProgress = function () {\r\n        if (this.loadCounter != 0)\r\n            return (this.readyCounter / this.loadCounter) * 100;\r\n        else\r\n            return 0;\r\n    };\r\n    AssetLoader.prototype.getAsset = function (name) {\r\n        return this.assets[name];\r\n    };\r\n    AssetLoader.prototype.attemptCompletionCallback = function (callback) {\r\n        if (this.readyCounter == this.loadCounter && callback !== undefined)\r\n            callback();\r\n    };\r\n    AssetLoader.prototype.deriveObjectName = function (url, name) {\r\n        if (name === undefined) {\r\n            var f = url.slice(url.lastIndexOf('/') + 1);\r\n            return f.slice(0, f.indexOf('.'));\r\n        }\r\n        else\r\n            return name;\r\n    };\r\n    return AssetLoader;\r\n}());\r\nexports.default = AssetLoader;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Scene = /** @class */ (function () {\r\n    function Scene(options) {\r\n        this.sceneId = options.sceneId;\r\n        this.initialized = false;\r\n        this.alwaysInitialize = options.alwaysInitialize || true;\r\n        this.initCallback = options.init;\r\n        // This stuff is really not ready yet dudes\r\n        // this.systemScope = options.scope || SystemScope.LOCAL;\r\n        // this.systemType = options.type || SystemType.NONRENDER;\r\n        this.gameEntities = {};\r\n        this.systems = {};\r\n    }\r\n    Scene.prototype.registerSystem = function (system) {\r\n        this.systems[system.systemId] = system;\r\n    };\r\n    Scene.prototype.unregisterSystem = function (system) {\r\n        delete this.systems[system.systemId];\r\n    };\r\n    Scene.prototype.addEntity = function (entity) {\r\n        this.gameEntities[entity.id] = entity;\r\n    };\r\n    return Scene;\r\n}());\r\nexports.Scene = Scene;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Entity = /** @class */ (function () {\r\n    function Entity() {\r\n        this.id = Entity.prototype.count;\r\n        Entity.prototype.count++;\r\n    }\r\n    Entity.prototype.addComponent = function (component) {\r\n        this[component.name] = component;\r\n    };\r\n    Entity.prototype.removeComponent = function (componentName) {\r\n        delete this[componentName];\r\n    };\r\n    Entity.prototype.hasComponent = function (componentName) {\r\n        return this[componentName] != null;\r\n    };\r\n    Entity.prototype.hasComponents = function (componentArray) {\r\n        var len = componentArray.length;\r\n        for (var i = 0; i < len; i++) {\r\n            if (!this.hasComponent(componentArray[i]))\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    return Entity;\r\n}());\r\nexports.default = Entity;\r\nEntity.prototype.count = 0;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n// Components provide entities with attributes\r\n// that relate to in-game functionality\r\n// Like entities, components are JUST DATA and not logic\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Component = /** @class */ (function () {\r\n    function Component(name) {\r\n        this.name = name;\r\n    }\r\n    return Component;\r\n}());\r\nexports.Component = Component;\r\nvar Position = /** @class */ (function (_super) {\r\n    __extends(Position, _super);\r\n    function Position(x, y) {\r\n        var _this = _super.call(this, 'Position') || this;\r\n        _this.x = x;\r\n        _this.y = y;\r\n        return _this;\r\n    }\r\n    return Position;\r\n}(Component));\r\nexports.Position = Position;\r\nvar Velocity = /** @class */ (function (_super) {\r\n    __extends(Velocity, _super);\r\n    function Velocity(x, y) {\r\n        var _this = _super.call(this, 'Velocity') || this;\r\n        _this.x = x;\r\n        _this.y = y;\r\n        return _this;\r\n    }\r\n    return Velocity;\r\n}(Component));\r\nexports.Velocity = Velocity;\r\nvar Label = /** @class */ (function (_super) {\r\n    __extends(Label, _super);\r\n    function Label(txt, options) {\r\n        var _this = _super.call(this, 'Label') || this;\r\n        _this.txt = txt;\r\n        _this.color = options.color || '#000';\r\n        _this.font = options.font || 'monospace';\r\n        _this.isVisible = options.isVisible || true;\r\n        return _this;\r\n    }\r\n    return Label;\r\n}(Component));\r\nexports.Label = Label;\r\nvar Sprite = /** @class */ (function (_super) {\r\n    __extends(Sprite, _super);\r\n    function Sprite(spriteSource) {\r\n        var _this = _super.call(this, 'Sprite') || this;\r\n        _this.spriteSource = spriteSource;\r\n        return _this;\r\n    }\r\n    return Sprite;\r\n}(Component));\r\nexports.Sprite = Sprite;\r\nvar AnimatedSprite = /** @class */ (function (_super) {\r\n    __extends(AnimatedSprite, _super);\r\n    function AnimatedSprite(spriteSource, animationSheet, options) {\r\n        var _this = _super.call(this, 'AnimatedSprite') || this;\r\n        _this.spriteSource = spriteSource;\r\n        _this.animationSheet = animationSheet;\r\n        if (options === undefined)\r\n            var options = {};\r\n        // If there's no default animation set, we'll use the first one defined in the JSON object\r\n        _this.animationName = options.animationName || Object.keys(animationSheet)[0];\r\n        _this.scale = options.scale || 1.0;\r\n        _this.loop = options.loop || true;\r\n        _this.isPlaying = options.isPlaying || true;\r\n        _this.flip = options.flip || false;\r\n        _this.currentFrame = 0;\r\n        return _this;\r\n    }\r\n    return AnimatedSprite;\r\n}(Component));\r\nexports.AnimatedSprite = AnimatedSprite;\r\nvar AudioSource = /** @class */ (function (_super) {\r\n    __extends(AudioSource, _super);\r\n    function AudioSource(audioBuffer) {\r\n        var _this = _super.call(this, 'AudioSource') || this;\r\n        _this.audioBuffer = audioBuffer;\r\n        return _this;\r\n    }\r\n    return AudioSource;\r\n}(Component));\r\nexports.AudioSource = AudioSource;\r\nvar Box = /** @class */ (function (_super) {\r\n    __extends(Box, _super);\r\n    function Box(width, height, fillStyle) {\r\n        var _this = _super.call(this, 'Box') || this;\r\n        _this.width = width;\r\n        _this.height = height;\r\n        _this.fillStyle = fillStyle;\r\n        return _this;\r\n    }\r\n    return Box;\r\n}(Component));\r\nexports.Box = Box;\r\nvar BoxCollider = /** @class */ (function (_super) {\r\n    __extends(BoxCollider, _super);\r\n    function BoxCollider(width, height) {\r\n        var _this = _super.call(this, 'BoxCollider') || this;\r\n        _this.width = width;\r\n        _this.height = height;\r\n        return _this;\r\n    }\r\n    return BoxCollider;\r\n}(Component));\r\nexports.BoxCollider = BoxCollider;\r\nvar InputMapping = /** @class */ (function (_super) {\r\n    __extends(InputMapping, _super);\r\n    // for eg. mapping = [ {name: 'up', code: 38} ]\r\n    function InputMapping(mapping) {\r\n        var _this = _super.call(this, 'InputMapping') || this;\r\n        _this.mapping = mapping;\r\n        for (var i = 0; i < mapping.length; i++) {\r\n            _this[mapping[i].name] = false;\r\n        }\r\n        return _this;\r\n    }\r\n    return InputMapping;\r\n}(Component));\r\nexports.InputMapping = InputMapping;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SystemScope;\r\n(function (SystemScope) {\r\n    SystemScope[SystemScope[\"Local\"] = 0] = \"Local\";\r\n    SystemScope[SystemScope[\"Global\"] = 1] = \"Global\";\r\n})(SystemScope = exports.SystemScope || (exports.SystemScope = {}));\r\nvar SystemType;\r\n(function (SystemType) {\r\n    SystemType[SystemType[\"NonRender\"] = 0] = \"NonRender\";\r\n    SystemType[SystemType[\"Render\"] = 1] = \"Render\";\r\n})(SystemType = exports.SystemType || (exports.SystemType = {}));\r\nexports.InputMappingSystem = {\r\n    systemId: 'inputMappingSystem',\r\n    type: SystemType.NonRender,\r\n    requiredComponents: ['InputMapping'],\r\n    update: function (entity, services) {\r\n        var inputMapping = entity['InputMapping'];\r\n        for (var i = 0; i < inputMapping.mapping.length; i++) {\r\n            var c = inputMapping.mapping[i];\r\n            inputMapping[c.name] = services.input.isPressed(c.code);\r\n        }\r\n    },\r\n};\r\nvar RenderSystem = {\r\n    systemId: 'renderSystem',\r\n    type: SystemType.Render,\r\n    requiredComponents: [],\r\n    update: function (entity) { },\r\n};\r\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=youngblood.js.map","import { \r\n    Game, \r\n    Scene,\r\n} from 'youngblood';\r\n\r\nimport { loading } from './scene/loading';\r\nimport { ingame } from './scene/ingame';\r\n\r\nconst canvas = <HTMLCanvasElement>document.getElementById('canvas');\r\nsetCanvasSize(canvas);\r\n\r\nconst game = new Game(<CanvasRenderingContext2D>canvas.getContext('2d'));\r\ngame.addScene(new Scene(loading));\r\ngame.addScene(new Scene(ingame));\r\ngame.startRendering(20);\r\n\r\nfunction setCanvasSize(c: HTMLCanvasElement) {\r\n    c.width = window.innerWidth;\r\n    c.height = window.innerHeight;\r\n}","import { SceneOptions, SceneServices, Scene, InputMappingSystem, Entity, InputMapping, Label, Position } from \"youngblood\";\r\n\r\nexport var loading: SceneOptions = {\r\n    sceneId: 'loading',\r\n    alwaysInitialize: false,\r\n    init: function (context: Scene, services: SceneServices) {\r\n        context.registerSystem(InputMappingSystem);\r\n        context.registerSystem({\r\n            systemId: 'labelSystem',\r\n            requiredComponents: ['InputMapping', 'Label'],\r\n            update: function (entity: Entity, services: SceneServices) {\r\n                let label = entity['Label'] as Label;\r\n                let inputMapping = entity['InputMapping'] as InputMapping;\r\n\r\n                if (!services.assets.isReady())\r\n                    return;\r\n                else\r\n                    label.isVisible = true;\r\n                \r\n                if (services.assets.isReady() && inputMapping.proceed) {\r\n                    services.game.switchToScene('ingame');\r\n                }\r\n            }\r\n        });\r\n\r\n        let handler = new Entity();\r\n        handler.addComponent(new InputMapping([\r\n            { name: 'proceed', code: 13 }\r\n        ]));\r\n\r\n        handler.addComponent(\r\n            new Label(\"Loading complete. Press Enter to proceed\", { \r\n                isVisible: false,\r\n                color: '#000',\r\n                font: 'Arial' \r\n            })\r\n        );\r\n        handler.addComponent(new Position(10, 10));\r\n\r\n        context.addEntity(handler);\r\n        \r\n        services.assets.addTaskList('assets/asset_list.txt');\r\n    }\r\n};","import { \r\n    SceneOptions, \r\n    Scene, \r\n    SceneServices, \r\n    Entity, \r\n    Position, \r\n    Sprite, \r\n    AnimatedSprite, \r\n    AnimationSheet, \r\n    InputMapping, \r\n    System, \r\n    InputMappingSystem \r\n} from \"youngblood\";\r\n\r\nexport var ingame: SceneOptions = {\r\n    sceneId: 'ingame',\r\n    alwaysInitialize: true,\r\n    init: function (context: Scene, services: SceneServices) {\r\n        context.registerSystem(InputMappingSystem);\r\n        context.registerSystem(wolfMovementSystem);\r\n\r\n        const bg_image = <HTMLImageElement>services.assets.getAsset('img_bg');\r\n        const background = new Entity();\r\n        background.addComponent(new Position(-150, -300));\r\n        background.addComponent(new Sprite(bg_image));\r\n\r\n        context.addEntity(background);\r\n\r\n        const wolf_sheet = <HTMLImageElement>services.assets.getAsset('80x48Wolf_FullSheet');\r\n        const wolf_info = <AnimationSheet>services.assets.getAsset('wolf_info');\r\n        const wolf = new Entity();\r\n        wolf.addComponent(new Position(100, 445));\r\n        wolf.addComponent(new InputMapping([\r\n            { name: 'right', code: 39 },\r\n            { name: 'left', code: 37 }\r\n        ]));\r\n        wolf.addComponent(new AnimatedSprite(wolf_sheet, wolf_info, {\r\n            animationName: 'idle',\r\n            isPlaying: true,\r\n            loop: true,\r\n            scale: 5.0\r\n        }));\r\n\r\n        context.addEntity(wolf);\r\n    }\r\n}\r\n\r\nconst wolfMovementSystem: System = {\r\n    systemId: 'wolfMovementSystem',\r\n    requiredComponents: ['AnimatedSprite', 'Position', 'InputMapping'],\r\n    update: function (entity: Entity, services: SceneServices) {\r\n        const inputMapping = entity['InputMapping'] as InputMapping;\r\n        const sprite = entity['AnimatedSprite'] as AnimatedSprite;\r\n        const pos = entity['Position'] as Position;\r\n\r\n        if (inputMapping.right) {\r\n            sprite.animationName = 'running';\r\n            sprite.flip = false;\r\n            pos.x += 20;\r\n        } else if (inputMapping.left) {\r\n            sprite.animationName = 'running';\r\n            sprite.flip = true;\r\n            pos.x -= 20;\r\n        } else {\r\n            sprite.animationName = 'idle';\r\n        }\r\n    }\r\n}"],"sourceRoot":""}