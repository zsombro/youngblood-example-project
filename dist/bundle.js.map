{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../youngblood/bundle/youngblood.js","webpack:///./src/index.ts","webpack:///./src/scene/ingame.ts","webpack:///./src/scene/loading.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA,IAAI,IAAyD;AAC7D;AACA,MAAM,EAKmB;AACzB,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA,yDAAyD,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC;AAClF,wHAAwH,mBAAmB,EAAE;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4BAA4B,qBAAqB;AACjD;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,2BAA2B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,oCAAoC,uBAAuB;AAC3D,uCAAuC,mBAAmB;AAC1D;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,+CAA+C,+BAA+B,EAAE;AAChF,6CAA6C,6CAA6C,EAAE;AAC5F,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,uEAAuE,wBAAwB,EAAE;AACjG,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,WAAW,mBAAmB;AACzF;AACA;AACA,2DAA2D,WAAW,yBAAyB;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA,iFAAiF,mCAAmC,EAAE,EAAE,gBAAgB;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,EAAE;;;AAGJ,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"yb\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yb\"] = factory();\n\telse\n\t\troot[\"yb\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Components provide entities with attributes\n * that relate to in-game functionality.\n * Like entities, components are JUST DATA and not logic!\n */\nvar Component = /** @class */ (function () {\n    function Component(name) {\n        this.name = name;\n    }\n    return Component;\n}());\nexports.default = Component;\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position(x, y) {\n        var _this = _super.call(this, 'Position') || this;\n        _this.x = x;\n        _this.y = y;\n        return _this;\n    }\n    return Position;\n}(Component));\nexports.Position = Position;\nvar Velocity = /** @class */ (function (_super) {\n    __extends(Velocity, _super);\n    function Velocity(x, y) {\n        var _this = _super.call(this, 'Velocity') || this;\n        _this.x = x;\n        _this.y = y;\n        return _this;\n    }\n    return Velocity;\n}(Component));\nexports.Velocity = Velocity;\nvar Label = /** @class */ (function (_super) {\n    __extends(Label, _super);\n    function Label(txt, options) {\n        var _this = _super.call(this, 'Label') || this;\n        _this.txt = txt;\n        _this.color = options.color || '#000';\n        _this.font = options.font || 'monospace';\n        _this.isVisible = options.isVisible || true;\n        return _this;\n    }\n    return Label;\n}(Component));\nexports.Label = Label;\nvar Sprite = /** @class */ (function (_super) {\n    __extends(Sprite, _super);\n    function Sprite(spriteSource) {\n        var _this = _super.call(this, 'Sprite') || this;\n        _this.spriteSource = spriteSource;\n        return _this;\n    }\n    return Sprite;\n}(Component));\nexports.Sprite = Sprite;\nvar AnimatedSprite = /** @class */ (function (_super) {\n    __extends(AnimatedSprite, _super);\n    function AnimatedSprite(spriteSource, animationSheet, options) {\n        var _this = _super.call(this, 'AnimatedSprite') || this;\n        _this.spriteSource = spriteSource;\n        _this.animationSheet = animationSheet;\n        if (options === undefined)\n            var options = {};\n        // If there's no default animation set, we'll use the first one defined in the JSON object\n        _this.animationName = options.animationName || Object.keys(animationSheet)[0];\n        _this.scale = options.scale || 1.0;\n        _this.loop = options.loop || true;\n        _this.isPlaying = options.isPlaying || true;\n        _this.flip = options.flip || false;\n        _this.currentFrame = 0;\n        return _this;\n    }\n    return AnimatedSprite;\n}(Component));\nexports.AnimatedSprite = AnimatedSprite;\nvar AudioSource = /** @class */ (function (_super) {\n    __extends(AudioSource, _super);\n    function AudioSource(audioBuffer) {\n        var _this = _super.call(this, 'AudioSource') || this;\n        _this.audioBuffer = audioBuffer;\n        return _this;\n    }\n    return AudioSource;\n}(Component));\nexports.AudioSource = AudioSource;\nvar Box = /** @class */ (function (_super) {\n    __extends(Box, _super);\n    function Box(width, height, fillStyle) {\n        var _this = _super.call(this, 'Box') || this;\n        _this.width = width;\n        _this.height = height;\n        _this.fillStyle = fillStyle;\n        return _this;\n    }\n    return Box;\n}(Component));\nexports.Box = Box;\nvar BoxCollider = /** @class */ (function (_super) {\n    __extends(BoxCollider, _super);\n    function BoxCollider(width, height) {\n        var _this = _super.call(this, 'BoxCollider') || this;\n        _this.width = width;\n        _this.height = height;\n        return _this;\n    }\n    return BoxCollider;\n}(Component));\nexports.BoxCollider = BoxCollider;\nvar InputMapping = /** @class */ (function (_super) {\n    __extends(InputMapping, _super);\n    // for eg. mapping = [ {name: 'up', code: 38} ]\n    function InputMapping(mapping) {\n        var _this = _super.call(this, 'InputMapping') || this;\n        _this.mapping = mapping;\n        for (var i = 0; i < mapping.length; i++) {\n            _this[mapping[i].name] = false;\n        }\n        return _this;\n    }\n    return InputMapping;\n}(Component));\nexports.InputMapping = InputMapping;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Scene = /** @class */ (function () {\n    function Scene(options) {\n        var _this = this;\n        this.sceneId = options.sceneId;\n        this.initialized = false;\n        this.alwaysInitialize = options.alwaysInitialize || true;\n        this.initCallback = options.init;\n        this.gameEntities = {};\n        this.systems = {};\n        if (options.systems)\n            options.systems.forEach(function (s) { return _this.registerSystem(s); });\n    }\n    Scene.prototype.registerSystem = function (system) {\n        this.systems[system.systemId] = system;\n    };\n    Scene.prototype.unregisterSystem = function (system) {\n        delete this.systems[system.systemId];\n    };\n    Scene.prototype.addEntity = function (entity) {\n        this.gameEntities[entity.id] = entity;\n    };\n    Scene.prototype.removeEntity = function (id) {\n        delete this.gameEntities[id];\n    };\n    return Scene;\n}());\nexports.Scene = Scene;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar game_1 = __webpack_require__(3);\nexports.Game = game_1.default;\nvar scene_1 = __webpack_require__(1);\nexports.Scene = scene_1.Scene;\nvar entity_1 = __webpack_require__(8);\nexports.Entity = entity_1.default;\nvar component_1 = __webpack_require__(0);\nexports.Position = component_1.Position;\nexports.Velocity = component_1.Velocity;\nexports.Sprite = component_1.Sprite;\nexports.AnimatedSprite = component_1.AnimatedSprite;\nexports.Box = component_1.Box;\nexports.InputMapping = component_1.InputMapping;\nexports.Label = component_1.Label;\nvar tiledMap_1 = __webpack_require__(9);\nexports.TiledMap = tiledMap_1.default;\nvar component_2 = __webpack_require__(0);\nexports.Component = component_2.default;\nvar system_1 = __webpack_require__(10);\nexports.InputMappingSystem = system_1.InputMappingSystem;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar scene_1 = __webpack_require__(1);\nvar inputmanager_1 = __webpack_require__(4);\nvar audiomanager_1 = __webpack_require__(5);\nvar assetloader_1 = __webpack_require__(6);\nvar renderer_1 = __webpack_require__(7);\nvar Game = /** @class */ (function () {\n    /**\n     * Returns a new `Game` instance.\n     */\n    function Game() {\n        this.renderer = null;\n        this.services = {\n            input: new inputmanager_1.default(),\n            audio: new audiomanager_1.default(),\n            assets: new assetloader_1.default(),\n            game: {\n                switchToScene: this.switchToScene.bind(this),\n            },\n        };\n        this.gameScenes = {};\n        this.currentScene = null;\n        this.fps = 60;\n        this.then = Date.now();\n        console.info('Game created');\n    }\n    /**\n     * This is what's gonna kickstart your game when you're done setting it up!\n     *\n     * @param canvasSelector CSS selector for the `canvas` you want to render into. Leaving this empty assumes\n     * you only have one `<canvas>` element on your page. _Irrelevant if you've registered\n     * a custom renderer._\n     */\n    Game.prototype.startRendering = function (canvasSelector) {\n        if (canvasSelector === void 0) { canvasSelector = 'canvas'; }\n        if (!this.renderer) {\n            var canvas = document.querySelector(canvasSelector);\n            if (!canvas)\n                throw new Error('No canvas element was found in the document');\n            var ctx = canvas.getContext('2d');\n            ctx.imageSmoothingEnabled = false;\n            this.setRenderer(renderer_1.default(ctx));\n        }\n        this.startSystem();\n        console.info(\"Started rendering at \" + this.fps + \"fps\");\n    };\n    /**\n     * Set an upper framerate limit. `60` by default!\n     * @param fps\n     */\n    Game.prototype.setFramerate = function (fps) {\n        this.fps = fps;\n        return this;\n    };\n    /**\n     * You can set a custom renderer instead of the default 2D one. It's a function\n     * that will be called at the end of every game loop.\n     * @param renderingFunction A function that takes a `Scene` object and does something with it.\n     */\n    Game.prototype.setRenderer = function (renderingFunction) {\n        this.renderer = renderingFunction;\n        return this;\n    };\n    /**\n     * Register a new `Scene`. You'll need at least one to do anything!\n     * @param sceneOptions Settings for your scene, like it's name or how it should be\n     * initialized.\n     */\n    Game.prototype.addScene = function (sceneOptions) {\n        this.gameScenes[sceneOptions.sceneId] = new scene_1.Scene(sceneOptions);\n        this.gameScenes[sceneOptions.sceneId].assets = this.services.assets;\n        if (this.currentScene == null)\n            this.switchToScene(sceneOptions.sceneId);\n        console.info(\"Scene added: \" + sceneOptions.sceneId);\n        return this;\n    };\n    /**\n     * Switch to a different scene. Also available as a `SceneService`. If you don't call it\n     * before starting the game, it will start with the first one you added.\n     * @param sceneId The id provided when the scene was registered\n     */\n    Game.prototype.switchToScene = function (sceneId) {\n        if (this.gameScenes[sceneId] == null) {\n            console.error(\"Scene doesn't exist: \" + sceneId);\n            return this;\n        }\n        this.currentScene = this.gameScenes[sceneId];\n        if (!this.currentScene.initialized || this.currentScene.alwaysInitialize)\n            this.currentScene.initCallback(this.currentScene, this.services);\n        return this;\n    };\n    Game.prototype.startSystem = function () {\n        var _this = this;\n        window.requestAnimationFrame(function () {\n            _this.startSystem();\n        });\n        this.interval = 1000 / this.fps;\n        this.now = Date.now();\n        this.delta = this.now - this.then;\n        if (this.delta > this.interval) {\n            this.then = this.now - (this.delta % this.interval);\n            if (!this.currentScene)\n                return;\n            this.update();\n            this.renderer(this.currentScene);\n        }\n    };\n    Game.prototype.update = function () {\n        for (var e in this.currentScene.gameEntities) {\n            var entity = this.currentScene.gameEntities[e];\n            for (var s in this.currentScene.systems) {\n                var system = this.currentScene.systems[s];\n                if (entity.hasComponents(system.requiredComponents))\n                    system.update(entity, this.currentScene, this.services);\n            }\n        }\n    };\n    return Game;\n}());\nexports.default = Game;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar InputManager = /** @class */ (function () {\n    function InputManager() {\n        var that = this;\n        this.pressedKeys = [];\n        window.addEventListener('keydown', function (e) {\n            if (that.pressedKeys.indexOf(e.keyCode) === -1)\n                that.pressedKeys.push(e.keyCode);\n        }, false);\n        window.addEventListener('keyup', function (e) {\n            that.pressedKeys.splice(that.pressedKeys.indexOf(e.keyCode), 1);\n        }, false);\n    }\n    InputManager.prototype.isPressed = function (key) {\n        return this.pressedKeys.indexOf(key) !== -1;\n    };\n    return InputManager;\n}());\nexports.default = InputManager;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AudioManager = /** @class */ (function () {\n    function AudioManager() {\n        try {\n            this.audioContext = new AudioContext();\n            this.songsPlaying = [];\n            this.masterVolume = this.audioContext.createGain();\n            this.musicVolume = this.audioContext.createGain();\n            this.effectsVolume = this.audioContext.createGain();\n            this.musicVolume.connect(this.masterVolume);\n            this.effectsVolume.connect(this.masterVolume);\n            this.masterVolume.connect(this.audioContext.destination);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    AudioManager.prototype.setBackgroundMusic = function (buffer, loop) {\n        var _this = this;\n        if (this.songsPlaying.indexOf(buffer) == -1) {\n            var source = this.audioContext.createBufferSource();\n            source.buffer = buffer;\n            source.loop = loop || false;\n            source.connect(this.musicVolume);\n            source.start();\n            source.onended = function () {\n                if (!loop)\n                    _this.songsPlaying.splice(_this.songsPlaying.indexOf(buffer), 1);\n            };\n            this.songsPlaying.push(buffer);\n        }\n    };\n    AudioManager.prototype.playSound = function (buffer, loop) {\n        var source = this.audioContext.createBufferSource();\n        source.buffer = buffer;\n        source.loop = loop || false;\n        source.connect(this.effectsVolume);\n        source.start();\n    };\n    return AudioManager;\n}());\nexports.default = AudioManager;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar audioContext = new AudioContext();\nfunction fetchImage(url) {\n    return new Promise(function (resolve, reject) {\n        var image = new Image();\n        image.onload = function () { return resolve(image); };\n        image.onerror = function (ev) { return reject(ev); };\n        image.src = url;\n    });\n}\nfunction fetchAudio(url) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, fetch(url)\n                    .then(function (response) { return response.arrayBuffer(); })\n                    .then(function (buffer) { return audioContext.decodeAudioData(buffer); })];\n        });\n    });\n}\nfunction fetchObject(url) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, fetch(url).then(function (response) { return response.json(); })];\n        });\n    });\n}\nfunction fetchTiledMap(url) {\n    return __awaiter(this, void 0, void 0, function () {\n        var response, data, result, _i, _a, layer, _b, _c, _d, _e, _f;\n        return __generator(this, function (_g) {\n            switch (_g.label) {\n                case 0: return [4 /*yield*/, fetch(url)];\n                case 1:\n                    response = _g.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    data = _g.sent();\n                    result = {\n                        width: data.width,\n                        height: data.height,\n                        layers: [],\n                    };\n                    _i = 0, _a = data.layers;\n                    _g.label = 3;\n                case 3:\n                    if (!(_i < _a.length)) return [3 /*break*/, 9];\n                    layer = _a[_i];\n                    _b = layer.type;\n                    switch (_b) {\n                        case 'imagelayer': return [3 /*break*/, 4];\n                        case 'tilelayer': return [3 /*break*/, 6];\n                        case 'objectgroup': return [3 /*break*/, 7];\n                    }\n                    return [3 /*break*/, 8];\n                case 4:\n                    _d = (_c = result.layers).push;\n                    _e = [__assign({}, layer)];\n                    _f = {};\n                    return [4 /*yield*/, fetchImage(layer.image)];\n                case 5:\n                    _d.apply(_c, [__assign.apply(void 0, _e.concat([(_f.image = _g.sent(), _f)]))]);\n                    return [3 /*break*/, 8];\n                case 6:\n                    result.layers.push(__assign(__assign({}, layer), { data: layer.data }));\n                    return [3 /*break*/, 8];\n                case 7:\n                    result.layers.push(__assign(__assign({}, layer), { objects: layer.objects }));\n                    return [3 /*break*/, 8];\n                case 8:\n                    _i++;\n                    return [3 /*break*/, 3];\n                case 9: return [2 /*return*/, result];\n            }\n        });\n    });\n}\nfunction fetchTiledSet(url) {\n    return __awaiter(this, void 0, void 0, function () {\n        var response, data, _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0: return [4 /*yield*/, fetch(url)];\n                case 1:\n                    response = _c.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    data = _c.sent();\n                    _a = [__assign({}, data)];\n                    _b = {};\n                    return [4 /*yield*/, fetchImage(data.image)];\n                case 3: return [2 /*return*/, __assign.apply(void 0, _a.concat([(_b.image = _c.sent(), _b)]))];\n            }\n        });\n    });\n}\nfunction getExtension(url) {\n    var extensions = url.match(/\\.[a-zA-Z0-9]+/g);\n    return extensions[extensions.length - 1];\n}\nexports.getExtension = getExtension;\nvar AssetLoader = /** @class */ (function () {\n    function AssetLoader() {\n        this.taskQueueLength = 0;\n        this.completedTasks = 0;\n        this.assets = {};\n    }\n    AssetLoader.prototype.load = function (assetListUrl) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, json, assetData;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, fetch(assetListUrl)];\n                    case 1:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        json = _a.sent();\n                        assetData = json.assets;\n                        this.completedTasks = 0;\n                        this.taskQueueLength = assetData.length;\n                        return [4 /*yield*/, Promise.all(assetData.map(this.fetchAsset.bind(this)))];\n                    case 3:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AssetLoader.prototype.progress = function () {\n        return this.completedTasks / this.taskQueueLength;\n    };\n    AssetLoader.prototype.get = function (name) {\n        return this.assets[name];\n    };\n    AssetLoader.prototype.fetchAsset = function (asset) {\n        return __awaiter(this, void 0, void 0, function () {\n            var extension, assetName, _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n            return __generator(this, function (_m) {\n                switch (_m.label) {\n                    case 0:\n                        extension = getExtension(asset.url);\n                        assetName = asset.url.replace(extension, '');\n                        _a = asset.type;\n                        switch (_a) {\n                            case 'audio': return [3 /*break*/, 1];\n                            case 'image': return [3 /*break*/, 3];\n                            case 'json': return [3 /*break*/, 5];\n                            case 'tiled-map': return [3 /*break*/, 7];\n                            case 'tiled-set': return [3 /*break*/, 9];\n                        }\n                        return [3 /*break*/, 11];\n                    case 1:\n                        _b = this.assets;\n                        _c = assetName;\n                        return [4 /*yield*/, fetchAudio(asset.url)];\n                    case 2:\n                        _b[_c] = _m.sent();\n                        return [3 /*break*/, 11];\n                    case 3:\n                        _d = this.assets;\n                        _e = assetName;\n                        return [4 /*yield*/, fetchImage(asset.url)];\n                    case 4:\n                        _d[_e] = _m.sent();\n                        return [3 /*break*/, 11];\n                    case 5:\n                        _f = this.assets;\n                        _g = assetName;\n                        return [4 /*yield*/, fetchObject(asset.url)];\n                    case 6:\n                        _f[_g] = _m.sent();\n                        return [3 /*break*/, 11];\n                    case 7:\n                        _h = this.assets;\n                        _j = assetName;\n                        return [4 /*yield*/, fetchTiledMap(asset.url)];\n                    case 8:\n                        _h[_j] = _m.sent();\n                        return [3 /*break*/, 11];\n                    case 9:\n                        _k = this.assets;\n                        _l = assetName;\n                        return [4 /*yield*/, fetchTiledSet(asset.url)];\n                    case 10:\n                        _k[_l] = _m.sent();\n                        _m.label = 11;\n                    case 11:\n                        this.completedTasks++;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return AssetLoader;\n}());\nexports.default = AssetLoader;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction renderBox(p, b, ctx) {\n    ctx.fillStyle = b.fillStyle;\n    ctx.fillRect(p.x, p.y, b.width, b.height);\n}\nfunction renderLabel(p, l, ctx) {\n    ctx.fillStyle = l.color;\n    ctx.fillText(l.txt, p.x, p.y);\n}\nfunction renderSprite(p, s, ctx) {\n    ctx.drawImage(s.spriteSource, p.x, p.y);\n}\nfunction renderAnimatedSprite(p, sprite, ctx) {\n    var f = sprite.animationSheet[sprite.animationName];\n    if (sprite.flip) {\n        ctx.translate(p.x, 0);\n        ctx.scale(-1, 1);\n    }\n    ctx.drawImage(sprite.spriteSource, f.startX + sprite.currentFrame * f.frameWidth, f.startY, f.frameWidth, f.frameHeight, sprite.flip ? -sprite.scale * f.frameWidth : p.x, p.y, f.frameWidth * sprite.scale, f.frameHeight * sprite.scale);\n    if (sprite.flip)\n        ctx.setTransform(1, 0, 0, 1, 0, 0);\n    if (sprite.isPlaying) {\n        if (sprite.currentFrame >= f.frames - 1)\n            sprite.currentFrame = 0;\n        else\n            sprite.currentFrame++;\n    }\n}\nfunction renderImageLayer(position, layer, ctx) {\n    ctx.drawImage(layer.image, layer.x, layer.y, ctx.canvas.width, ctx.canvas.height);\n}\nfunction getTileById(id, sheet) {\n    return {\n        x: (id % sheet.columns) * sheet.tilewidth - sheet.tilewidth,\n        y: Math.floor(id / sheet.columns) * sheet.tileheight,\n    };\n}\nfunction renderTileLayer(position, layer, sheet, scalingFactor, ctx) {\n    for (var i = 0; i < layer.data.length; i++) {\n        if (layer.data[i] === 0)\n            continue;\n        var _a = getTileById(layer.data[i], sheet), x = _a.x, y = _a.y;\n        ctx.drawImage(sheet.image, x, y, sheet.tilewidth, sheet.tileheight, position.x + (i % layer.width) * (sheet.tilewidth * scalingFactor), position.y + Math.floor(i / layer.width) * (sheet.tileheight * scalingFactor), sheet.tilewidth * scalingFactor, sheet.tileheight * scalingFactor);\n    }\n}\nfunction renderTiledMap(position, map, ctx) {\n    for (var _i = 0, _a = map.data.layers; _i < _a.length; _i++) {\n        var layer = _a[_i];\n        switch (layer.type) {\n            case 'imagelayer':\n                renderImageLayer(position, layer, ctx);\n                break;\n            case 'tilelayer':\n                renderTileLayer(position, layer, map.spriteSheet, map.options.scale, ctx);\n                break;\n        }\n    }\n}\nexports.default = (function (ctx) { return function (scene) {\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    for (var _i = 0, _a = Object.values(scene.gameEntities).filter(function (e) { return e.hasComponent('Position'); }); _i < _a.length; _i++) {\n        var currentEntity = _a[_i];\n        var position = currentEntity.get('Position');\n        if (currentEntity.hasComponent('Box'))\n            renderBox(position, currentEntity.get('Box'), ctx);\n        if (currentEntity.hasComponent('Label'))\n            renderLabel(position, currentEntity.get('Label'), ctx);\n        if (currentEntity.hasComponent('Sprite'))\n            renderSprite(position, currentEntity.get('Sprite'), ctx);\n        if (currentEntity.hasComponent('AnimatedSprite'))\n            renderAnimatedSprite(position, currentEntity.get('AnimatedSprite'), ctx);\n        if (currentEntity.hasComponent('TiledMap'))\n            renderTiledMap(position, currentEntity.get('TiledMap'), ctx);\n    }\n}; });\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Entity = /** @class */ (function () {\n    function Entity() {\n        this.id = Entity.prototype.count;\n        Entity.prototype.count++;\n    }\n    Entity.prototype.addComponent = function (component) {\n        this[component.name] = component;\n    };\n    Entity.prototype.removeComponent = function (componentName) {\n        delete this[componentName];\n    };\n    Entity.prototype.hasComponent = function (componentName) {\n        return this[componentName] != null;\n    };\n    Entity.prototype.hasComponents = function (componentArray) {\n        var len = componentArray.length;\n        for (var i = 0; i < len; i++) {\n            if (!this.hasComponent(componentArray[i]))\n                return false;\n        }\n        return true;\n    };\n    Entity.prototype.get = function (name) {\n        switch (name) {\n            case 'Velocity':\n                return this[name];\n            case 'Position':\n                return this[name];\n            case 'Sprite':\n                return this[name];\n            case 'AnimatedSprite':\n                return this[name];\n            case 'InputMapping':\n                return this[name];\n            case 'Label':\n                return this[name];\n            case 'Box':\n                return this[name];\n            case 'TiledMap':\n                return this[name];\n            default:\n                return this[name];\n        }\n    };\n    return Entity;\n}());\nexports.default = Entity;\nEntity.prototype.count = 0;\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar component_1 = __webpack_require__(0);\nvar TiledMap = /** @class */ (function (_super) {\n    __extends(TiledMap, _super);\n    function TiledMap(data, spriteSheet, options) {\n        if (options === void 0) { options = { scale: 1 }; }\n        var _this = _super.call(this, 'TiledMap') || this;\n        _this.data = data;\n        _this.spriteSheet = spriteSheet;\n        _this.options = options;\n        return _this;\n    }\n    return TiledMap;\n}(component_1.default));\nexports.default = TiledMap;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InputMappingSystem = {\n    systemId: 'inputMappingSystem',\n    requiredComponents: ['InputMapping'],\n    update: function (entity, scene, services) {\n        var inputMapping = entity['InputMapping'];\n        for (var i = 0; i < inputMapping.mapping.length; i++) {\n            var c = inputMapping.mapping[i];\n            inputMapping[c.name] = services.input.isPressed(c.code);\n        }\n    },\n};\nexports.TiledMapSystem = {\n    systemId: 'tiledMapSystem',\n    requiredComponents: ['TiledMap', 'Position', 'InputMapping'],\n    update: function (entity, scene, services) {\n        var mapData = entity['TiledMap'];\n    },\n};\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=youngblood.js.map","import { \n    Game, \n} from 'youngblood';\n\nimport { loading } from './scene/loading';\nimport { ingame } from './scene/ingame';\n\nnew Game()\n    .addScene(loading)\n    .addScene(ingame)\n    .setFramerate(20)\n    .startRendering();\n","import { \n    SceneOptions, \n    Scene, \n    SceneServices, \n    Entity, \n    Position, \n    Sprite, \n    AnimatedSprite, \n    AnimationSheet, \n    InputMapping, \n    System, \n    InputMappingSystem,\n    TiledMap,\n    TiledMapData,\n    TiledSheetData\n} from \"youngblood\";\n\nexport var ingame: SceneOptions = {\n    sceneId: 'ingame',\n    alwaysInitialize: true,\n    init: function (context: Scene, services: SceneServices) {\n        context.registerSystem(InputMappingSystem);\n        context.registerSystem(wolfAnimationSystem);\n        context.registerSystem(mapMovementSystem);\n\n        const tileset = <TiledSheetData>services.assets.get('assets/forest_tileset');\n        const tilemap = <TiledMapData>services.assets.get('assets/forest');\n        const map = new Entity();\n        map.addComponent(new Position(0, 0));\n        map.addComponent(new TiledMap(tilemap, tileset, { scale: 2.5 }));\n        map.addComponent(new InputMapping([\n            { name: 'right', code: 39 },\n            { name: 'left', code: 37 }\n        ]));\n\n        context.addEntity(map);\n\n        const wolf_sheet = <HTMLImageElement>services.assets.get('assets/80x48Wolf_FullSheet');\n        const wolf_info = <AnimationSheet>services.assets.get('assets/wolf_info');\n        const wolf = new Entity();\n        wolf.addComponent(new Position(100, 380));\n        wolf.addComponent(new InputMapping([\n            { name: 'right', code: 39 },\n            { name: 'left', code: 37 }\n        ]));\n        wolf.addComponent(new AnimatedSprite(wolf_sheet, wolf_info, {\n            animationName: 'idle',\n            isPlaying: true,\n            loop: true,\n            scale: 3.0\n        }));\n\n        context.addEntity(wolf);\n    }\n}\n\nconst wolfAnimationSystem: System = {\n    systemId: 'wolfAnimationSystem',\n    requiredComponents: ['AnimatedSprite', 'Position', 'InputMapping'],\n    update: function (entity: Entity, scene: Scene, services: SceneServices) {\n        const sprite = entity.get('AnimatedSprite');\n        const pos = entity.get('Position');\n        const inputMapping = entity.get('InputMapping');\n\n        if (inputMapping.right) {\n            sprite.animationName = 'running';\n            sprite.flip = false;\n        } else if (inputMapping.left) {\n            sprite.animationName = 'running';\n            sprite.flip = true;\n        } else {\n            sprite.animationName = 'idle';\n        }\n    }\n}\n\nconst mapMovementSystem: System = {\n    systemId: 'mapMovementSystem',\n    requiredComponents: ['Position', 'TiledMap'],\n    update: function (entity, scene, services) {\n        const pos = entity.get('Position');\n        const inputMapping = entity.get('InputMapping');\n\n        if (inputMapping.right) {\n            pos.x -= 20;\n        } else if (inputMapping.left) {\n            pos.x += 20;\n        }\n    }\n}","import { SceneOptions, SceneServices, Scene,System,  InputMappingSystem, Entity, InputMapping, Label, Position } from \"youngblood\";\n\nconst LoadingIndicatorSystem: System = {\n    systemId: 'labelSystem',\n    requiredComponents: ['InputMapping', 'Label'],\n    update: function (entity: Entity, scene: Scene, services: SceneServices) {\n        let label = entity['Label'] as Label;\n        let inputMapping = entity['InputMapping'] as InputMapping;\n        \n        if (label.isVisible && inputMapping.proceed) {\n            services.game.switchToScene('ingame');\n        }\n    }\n};\n\nexport var loading: SceneOptions = {\n    sceneId: 'loading',\n    alwaysInitialize: false,\n    init: function (context: Scene, services: SceneServices) {\n        context.registerSystem(InputMappingSystem);\n        context.registerSystem(LoadingIndicatorSystem);\n\n        let handler = new Entity();\n        handler.addComponent(new InputMapping([\n            { name: 'proceed', code: 13 }\n        ]));\n\n        handler.addComponent(new Label(\"Loading complete. Press Enter to proceed\", { \n            isVisible: false,\n            color: '#000',\n            font: 'Arial' \n        }));\n\n        handler.addComponent(new Position(10, 10));\n\n        context.addEntity(handler);\n        \n        services.assets.load('assets/asset_list.json').then((): void => { console.log('Assets loaded'); });\n    }\n};"],"sourceRoot":""}