{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/youngblood/bundle/youngblood.js","webpack:///./src/index.ts","webpack:///./src/scene/ingame.ts","webpack:///./src/scene/loading.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA,IAAI,IAAyD;AAC7D;AACA,MAAM,EAKmB;AACzB,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA,yDAAyD,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC;AAClF,wHAAwH,mBAAmB,EAAE;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4BAA4B,qBAAqB;AACjD;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,2BAA2B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,oCAAoC,uBAAuB;AAC3D,uCAAuC,mBAAmB;AAC1D;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,+CAA+C,+BAA+B,EAAE;AAChF,6CAA6C,6CAA6C,EAAE;AAC5F,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,uEAAuE,wBAAwB,EAAE;AACjG,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,WAAW,mBAAmB;AACzF;AACA;AACA,2DAA2D,WAAW,yBAAyB;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA,iFAAiF,mCAAmC,EAAE,EAAE,gBAAgB;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,EAAE;;;AAGJ,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"yb\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"yb\"] = factory();\n\telse\n\t\troot[\"yb\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Components provide entities with attributes\r\n * that relate to in-game functionality.\r\n * Like entities, components are JUST DATA and not logic!\r\n */\r\nvar Component = /** @class */ (function () {\r\n    function Component(name) {\r\n        this.name = name;\r\n    }\r\n    return Component;\r\n}());\r\nexports.default = Component;\r\nvar Position = /** @class */ (function (_super) {\r\n    __extends(Position, _super);\r\n    function Position(x, y) {\r\n        var _this = _super.call(this, 'Position') || this;\r\n        _this.x = x;\r\n        _this.y = y;\r\n        return _this;\r\n    }\r\n    return Position;\r\n}(Component));\r\nexports.Position = Position;\r\nvar Velocity = /** @class */ (function (_super) {\r\n    __extends(Velocity, _super);\r\n    function Velocity(x, y) {\r\n        var _this = _super.call(this, 'Velocity') || this;\r\n        _this.x = x;\r\n        _this.y = y;\r\n        return _this;\r\n    }\r\n    return Velocity;\r\n}(Component));\r\nexports.Velocity = Velocity;\r\nvar Label = /** @class */ (function (_super) {\r\n    __extends(Label, _super);\r\n    function Label(txt, options) {\r\n        var _this = _super.call(this, 'Label') || this;\r\n        _this.txt = txt;\r\n        _this.color = options.color || '#000';\r\n        _this.font = options.font || 'monospace';\r\n        _this.isVisible = options.isVisible || true;\r\n        return _this;\r\n    }\r\n    return Label;\r\n}(Component));\r\nexports.Label = Label;\r\nvar Sprite = /** @class */ (function (_super) {\r\n    __extends(Sprite, _super);\r\n    function Sprite(spriteSource) {\r\n        var _this = _super.call(this, 'Sprite') || this;\r\n        _this.spriteSource = spriteSource;\r\n        return _this;\r\n    }\r\n    return Sprite;\r\n}(Component));\r\nexports.Sprite = Sprite;\r\nvar AnimatedSprite = /** @class */ (function (_super) {\r\n    __extends(AnimatedSprite, _super);\r\n    function AnimatedSprite(spriteSource, animationSheet, options) {\r\n        var _this = _super.call(this, 'AnimatedSprite') || this;\r\n        _this.spriteSource = spriteSource;\r\n        _this.animationSheet = animationSheet;\r\n        if (options === undefined)\r\n            var options = {};\r\n        // If there's no default animation set, we'll use the first one defined in the JSON object\r\n        _this.animationName = options.animationName || Object.keys(animationSheet)[0];\r\n        _this.scale = options.scale || 1.0;\r\n        _this.loop = options.loop || true;\r\n        _this.isPlaying = options.isPlaying || true;\r\n        _this.flip = options.flip || false;\r\n        _this.currentFrame = 0;\r\n        return _this;\r\n    }\r\n    return AnimatedSprite;\r\n}(Component));\r\nexports.AnimatedSprite = AnimatedSprite;\r\nvar AudioSource = /** @class */ (function (_super) {\r\n    __extends(AudioSource, _super);\r\n    function AudioSource(audioBuffer) {\r\n        var _this = _super.call(this, 'AudioSource') || this;\r\n        _this.audioBuffer = audioBuffer;\r\n        return _this;\r\n    }\r\n    return AudioSource;\r\n}(Component));\r\nexports.AudioSource = AudioSource;\r\nvar Box = /** @class */ (function (_super) {\r\n    __extends(Box, _super);\r\n    function Box(width, height, fillStyle) {\r\n        var _this = _super.call(this, 'Box') || this;\r\n        _this.width = width;\r\n        _this.height = height;\r\n        _this.fillStyle = fillStyle;\r\n        return _this;\r\n    }\r\n    return Box;\r\n}(Component));\r\nexports.Box = Box;\r\nvar BoxCollider = /** @class */ (function (_super) {\r\n    __extends(BoxCollider, _super);\r\n    function BoxCollider(width, height) {\r\n        var _this = _super.call(this, 'BoxCollider') || this;\r\n        _this.width = width;\r\n        _this.height = height;\r\n        return _this;\r\n    }\r\n    return BoxCollider;\r\n}(Component));\r\nexports.BoxCollider = BoxCollider;\r\nvar InputMapping = /** @class */ (function (_super) {\r\n    __extends(InputMapping, _super);\r\n    // for eg. mapping = [ {name: 'up', code: 38} ]\r\n    function InputMapping(mapping) {\r\n        var _this = _super.call(this, 'InputMapping') || this;\r\n        _this.mapping = mapping;\r\n        for (var i = 0; i < mapping.length; i++) {\r\n            _this[mapping[i].name] = false;\r\n        }\r\n        return _this;\r\n    }\r\n    return InputMapping;\r\n}(Component));\r\nexports.InputMapping = InputMapping;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Scene = /** @class */ (function () {\r\n    function Scene(options) {\r\n        var _this = this;\r\n        this.sceneId = options.sceneId;\r\n        this.initialized = false;\r\n        this.alwaysInitialize = options.alwaysInitialize || true;\r\n        this.initCallback = options.init;\r\n        this.gameEntities = {};\r\n        this.systems = {};\r\n        if (options.systems)\r\n            options.systems.forEach(function (s) { return _this.registerSystem(s); });\r\n    }\r\n    Scene.prototype.registerSystem = function (system) {\r\n        this.systems[system.systemId] = system;\r\n    };\r\n    Scene.prototype.unregisterSystem = function (system) {\r\n        delete this.systems[system.systemId];\r\n    };\r\n    Scene.prototype.addEntity = function (entity) {\r\n        this.gameEntities[entity.id] = entity;\r\n    };\r\n    Scene.prototype.removeEntity = function (id) {\r\n        delete this.gameEntities[id];\r\n    };\r\n    return Scene;\r\n}());\r\nexports.Scene = Scene;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar game_1 = __webpack_require__(3);\r\nexports.Game = game_1.default;\r\nvar scene_1 = __webpack_require__(1);\r\nexports.Scene = scene_1.Scene;\r\nvar entity_1 = __webpack_require__(8);\r\nexports.Entity = entity_1.default;\r\nvar component_1 = __webpack_require__(0);\r\nexports.Position = component_1.Position;\r\nexports.Velocity = component_1.Velocity;\r\nexports.Sprite = component_1.Sprite;\r\nexports.AnimatedSprite = component_1.AnimatedSprite;\r\nexports.Box = component_1.Box;\r\nexports.InputMapping = component_1.InputMapping;\r\nexports.Label = component_1.Label;\r\nvar tiledMap_1 = __webpack_require__(9);\r\nexports.TiledMap = tiledMap_1.default;\r\nvar component_2 = __webpack_require__(0);\r\nexports.Component = component_2.default;\r\nvar system_1 = __webpack_require__(10);\r\nexports.InputMappingSystem = system_1.InputMappingSystem;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar scene_1 = __webpack_require__(1);\r\nvar inputmanager_1 = __webpack_require__(4);\r\nvar audiomanager_1 = __webpack_require__(5);\r\nvar assetloader_1 = __webpack_require__(6);\r\nvar renderer_1 = __webpack_require__(7);\r\nvar Game = /** @class */ (function () {\r\n    /**\r\n     * Returns a new `Game` instance.\r\n     */\r\n    function Game() {\r\n        this.renderer = null;\r\n        this.services = {\r\n            input: new inputmanager_1.default(),\r\n            audio: new audiomanager_1.default(),\r\n            assets: new assetloader_1.default(),\r\n            game: {\r\n                switchToScene: this.switchToScene.bind(this),\r\n            },\r\n        };\r\n        this.gameScenes = {};\r\n        this.currentScene = null;\r\n        this.fps = 60;\r\n        this.then = Date.now();\r\n        console.info('Game created');\r\n    }\r\n    /**\r\n     * This is what's gonna kickstart your game when you're done setting it up!\r\n     *\r\n     * @param canvasSelector CSS selector for the `canvas` you want to render into. Leaving this empty assumes\r\n     * you only have one `<canvas>` element on your page. _Irrelevant if you've registered\r\n     * a custom renderer._\r\n     */\r\n    Game.prototype.startRendering = function (canvasSelector) {\r\n        if (canvasSelector === void 0) { canvasSelector = 'canvas'; }\r\n        if (!this.renderer) {\r\n            var canvas = document.querySelector(canvasSelector);\r\n            if (!canvas)\r\n                throw new Error('No canvas element was found in the document');\r\n            var ctx = canvas.getContext('2d');\r\n            ctx.imageSmoothingEnabled = false;\r\n            this.setRenderer(renderer_1.default(ctx));\r\n        }\r\n        this.startSystem();\r\n        console.info(\"Started rendering at \" + this.fps + \"fps\");\r\n    };\r\n    /**\r\n     * Set an upper framerate limit. `60` by default!\r\n     * @param fps\r\n     */\r\n    Game.prototype.setFramerate = function (fps) {\r\n        this.fps = fps;\r\n        return this;\r\n    };\r\n    /**\r\n     * You can set a custom renderer instead of the default 2D one. It's a function\r\n     * that will be called at the end of every game loop.\r\n     * @param renderingFunction A function that takes a `Scene` object and does something with it.\r\n     */\r\n    Game.prototype.setRenderer = function (renderingFunction) {\r\n        this.renderer = renderingFunction;\r\n        return this;\r\n    };\r\n    /**\r\n     * Register a new `Scene`. You'll need at least one to do anything!\r\n     * @param sceneOptions Settings for your scene, like it's name or how it should be\r\n     * initialized.\r\n     */\r\n    Game.prototype.addScene = function (sceneOptions) {\r\n        this.gameScenes[sceneOptions.sceneId] = new scene_1.Scene(sceneOptions);\r\n        this.gameScenes[sceneOptions.sceneId].assets = this.services.assets;\r\n        if (this.currentScene == null)\r\n            this.switchToScene(sceneOptions.sceneId);\r\n        console.info(\"Scene added: \" + sceneOptions.sceneId);\r\n        return this;\r\n    };\r\n    /**\r\n     * Switch to a different scene. Also available as a `SceneService`. If you don't call it\r\n     * before starting the game, it will start with the first one you added.\r\n     * @param sceneId The id provided when the scene was registered\r\n     */\r\n    Game.prototype.switchToScene = function (sceneId) {\r\n        if (this.gameScenes[sceneId] == null) {\r\n            console.error(\"Scene doesn't exist: \" + sceneId);\r\n            return this;\r\n        }\r\n        this.currentScene = this.gameScenes[sceneId];\r\n        if (!this.currentScene.initialized || this.currentScene.alwaysInitialize)\r\n            this.currentScene.initCallback(this.currentScene, this.services);\r\n        return this;\r\n    };\r\n    Game.prototype.startSystem = function () {\r\n        var _this = this;\r\n        window.requestAnimationFrame(function () {\r\n            _this.startSystem();\r\n        });\r\n        this.interval = 1000 / this.fps;\r\n        this.now = Date.now();\r\n        this.delta = this.now - this.then;\r\n        if (this.delta > this.interval) {\r\n            this.then = this.now - (this.delta % this.interval);\r\n            if (!this.currentScene)\r\n                return;\r\n            this.update();\r\n            this.renderer(this.currentScene);\r\n        }\r\n    };\r\n    Game.prototype.update = function () {\r\n        for (var e in this.currentScene.gameEntities) {\r\n            var entity = this.currentScene.gameEntities[e];\r\n            for (var s in this.currentScene.systems) {\r\n                var system = this.currentScene.systems[s];\r\n                if (entity.hasComponents(system.requiredComponents))\r\n                    system.update(entity, this.currentScene, this.services);\r\n            }\r\n        }\r\n    };\r\n    return Game;\r\n}());\r\nexports.default = Game;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar InputManager = /** @class */ (function () {\r\n    function InputManager() {\r\n        var that = this;\r\n        this.pressedKeys = [];\r\n        window.addEventListener('keydown', function (e) {\r\n            if (that.pressedKeys.indexOf(e.keyCode) === -1)\r\n                that.pressedKeys.push(e.keyCode);\r\n        }, false);\r\n        window.addEventListener('keyup', function (e) {\r\n            that.pressedKeys.splice(that.pressedKeys.indexOf(e.keyCode), 1);\r\n        }, false);\r\n    }\r\n    InputManager.prototype.isPressed = function (key) {\r\n        return this.pressedKeys.indexOf(key) !== -1;\r\n    };\r\n    return InputManager;\r\n}());\r\nexports.default = InputManager;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AudioManager = /** @class */ (function () {\r\n    function AudioManager() {\r\n        try {\r\n            this.audioContext = new AudioContext();\r\n            this.songsPlaying = [];\r\n            this.masterVolume = this.audioContext.createGain();\r\n            this.musicVolume = this.audioContext.createGain();\r\n            this.effectsVolume = this.audioContext.createGain();\r\n            this.musicVolume.connect(this.masterVolume);\r\n            this.effectsVolume.connect(this.masterVolume);\r\n            this.masterVolume.connect(this.audioContext.destination);\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n    AudioManager.prototype.setBackgroundMusic = function (buffer, loop) {\r\n        var _this = this;\r\n        if (this.songsPlaying.indexOf(buffer) == -1) {\r\n            var source = this.audioContext.createBufferSource();\r\n            source.buffer = buffer;\r\n            source.loop = loop || false;\r\n            source.connect(this.musicVolume);\r\n            source.start();\r\n            source.onended = function () {\r\n                if (!loop)\r\n                    _this.songsPlaying.splice(_this.songsPlaying.indexOf(buffer), 1);\r\n            };\r\n            this.songsPlaying.push(buffer);\r\n        }\r\n    };\r\n    AudioManager.prototype.playSound = function (buffer, loop) {\r\n        var source = this.audioContext.createBufferSource();\r\n        source.buffer = buffer;\r\n        source.loop = loop || false;\r\n        source.connect(this.effectsVolume);\r\n        source.start();\r\n    };\r\n    return AudioManager;\r\n}());\r\nexports.default = AudioManager;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar audioContext = new AudioContext();\r\nfunction fetchImage(url) {\r\n    return new Promise(function (resolve, reject) {\r\n        var image = new Image();\r\n        image.onload = function () { return resolve(image); };\r\n        image.onerror = function (ev) { return reject(ev); };\r\n        image.src = url;\r\n    });\r\n}\r\nfunction fetchAudio(url) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2 /*return*/, fetch(url)\r\n                    .then(function (response) { return response.arrayBuffer(); })\r\n                    .then(function (buffer) { return audioContext.decodeAudioData(buffer); })];\r\n        });\r\n    });\r\n}\r\nfunction fetchObject(url) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2 /*return*/, fetch(url).then(function (response) { return response.json(); })];\r\n        });\r\n    });\r\n}\r\nfunction fetchTiledMap(url) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var response, data, result, _i, _a, layer, _b, _c, _d, _e, _f;\r\n        return __generator(this, function (_g) {\r\n            switch (_g.label) {\r\n                case 0: return [4 /*yield*/, fetch(url)];\r\n                case 1:\r\n                    response = _g.sent();\r\n                    return [4 /*yield*/, response.json()];\r\n                case 2:\r\n                    data = _g.sent();\r\n                    result = {\r\n                        width: data.width,\r\n                        height: data.height,\r\n                        layers: [],\r\n                    };\r\n                    _i = 0, _a = data.layers;\r\n                    _g.label = 3;\r\n                case 3:\r\n                    if (!(_i < _a.length)) return [3 /*break*/, 9];\r\n                    layer = _a[_i];\r\n                    _b = layer.type;\r\n                    switch (_b) {\r\n                        case 'imagelayer': return [3 /*break*/, 4];\r\n                        case 'tilelayer': return [3 /*break*/, 6];\r\n                        case 'objectgroup': return [3 /*break*/, 7];\r\n                    }\r\n                    return [3 /*break*/, 8];\r\n                case 4:\r\n                    _d = (_c = result.layers).push;\r\n                    _e = [__assign({}, layer)];\r\n                    _f = {};\r\n                    return [4 /*yield*/, fetchImage(layer.image)];\r\n                case 5:\r\n                    _d.apply(_c, [__assign.apply(void 0, _e.concat([(_f.image = _g.sent(), _f)]))]);\r\n                    return [3 /*break*/, 8];\r\n                case 6:\r\n                    result.layers.push(__assign(__assign({}, layer), { data: layer.data }));\r\n                    return [3 /*break*/, 8];\r\n                case 7:\r\n                    result.layers.push(__assign(__assign({}, layer), { objects: layer.objects }));\r\n                    return [3 /*break*/, 8];\r\n                case 8:\r\n                    _i++;\r\n                    return [3 /*break*/, 3];\r\n                case 9: return [2 /*return*/, result];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction fetchTiledSet(url) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var response, data, _a, _b;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0: return [4 /*yield*/, fetch(url)];\r\n                case 1:\r\n                    response = _c.sent();\r\n                    return [4 /*yield*/, response.json()];\r\n                case 2:\r\n                    data = _c.sent();\r\n                    _a = [__assign({}, data)];\r\n                    _b = {};\r\n                    return [4 /*yield*/, fetchImage(data.image)];\r\n                case 3: return [2 /*return*/, __assign.apply(void 0, _a.concat([(_b.image = _c.sent(), _b)]))];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction getExtension(url) {\r\n    var extensions = url.match(/\\.[a-zA-Z0-9]+/g);\r\n    return extensions[extensions.length - 1];\r\n}\r\nexports.getExtension = getExtension;\r\nvar AssetLoader = /** @class */ (function () {\r\n    function AssetLoader() {\r\n        this.taskQueueLength = 0;\r\n        this.completedTasks = 0;\r\n        this.assets = {};\r\n    }\r\n    AssetLoader.prototype.load = function (assetListUrl) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response, json, assetData;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, fetch(assetListUrl)];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 2:\r\n                        json = _a.sent();\r\n                        assetData = json.assets;\r\n                        this.completedTasks = 0;\r\n                        this.taskQueueLength = assetData.length;\r\n                        return [4 /*yield*/, Promise.all(assetData.map(this.fetchAsset.bind(this)))];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    AssetLoader.prototype.progress = function () {\r\n        return this.completedTasks / this.taskQueueLength;\r\n    };\r\n    AssetLoader.prototype.get = function (name) {\r\n        return this.assets[name];\r\n    };\r\n    AssetLoader.prototype.fetchAsset = function (asset) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var extension, assetName, _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\r\n            return __generator(this, function (_m) {\r\n                switch (_m.label) {\r\n                    case 0:\r\n                        extension = getExtension(asset.url);\r\n                        assetName = asset.url.replace(extension, '');\r\n                        _a = asset.type;\r\n                        switch (_a) {\r\n                            case 'audio': return [3 /*break*/, 1];\r\n                            case 'image': return [3 /*break*/, 3];\r\n                            case 'json': return [3 /*break*/, 5];\r\n                            case 'tiled-map': return [3 /*break*/, 7];\r\n                            case 'tiled-set': return [3 /*break*/, 9];\r\n                        }\r\n                        return [3 /*break*/, 11];\r\n                    case 1:\r\n                        _b = this.assets;\r\n                        _c = assetName;\r\n                        return [4 /*yield*/, fetchAudio(asset.url)];\r\n                    case 2:\r\n                        _b[_c] = _m.sent();\r\n                        return [3 /*break*/, 11];\r\n                    case 3:\r\n                        _d = this.assets;\r\n                        _e = assetName;\r\n                        return [4 /*yield*/, fetchImage(asset.url)];\r\n                    case 4:\r\n                        _d[_e] = _m.sent();\r\n                        return [3 /*break*/, 11];\r\n                    case 5:\r\n                        _f = this.assets;\r\n                        _g = assetName;\r\n                        return [4 /*yield*/, fetchObject(asset.url)];\r\n                    case 6:\r\n                        _f[_g] = _m.sent();\r\n                        return [3 /*break*/, 11];\r\n                    case 7:\r\n                        _h = this.assets;\r\n                        _j = assetName;\r\n                        return [4 /*yield*/, fetchTiledMap(asset.url)];\r\n                    case 8:\r\n                        _h[_j] = _m.sent();\r\n                        return [3 /*break*/, 11];\r\n                    case 9:\r\n                        _k = this.assets;\r\n                        _l = assetName;\r\n                        return [4 /*yield*/, fetchTiledSet(asset.url)];\r\n                    case 10:\r\n                        _k[_l] = _m.sent();\r\n                        _m.label = 11;\r\n                    case 11:\r\n                        this.completedTasks++;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return AssetLoader;\r\n}());\r\nexports.default = AssetLoader;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction renderBox(p, b, ctx) {\r\n    ctx.fillStyle = b.fillStyle;\r\n    ctx.fillRect(p.x, p.y, b.width, b.height);\r\n}\r\nfunction renderLabel(p, l, ctx) {\r\n    ctx.fillStyle = l.color;\r\n    ctx.fillText(l.txt, p.x, p.y);\r\n}\r\nfunction renderSprite(p, s, ctx) {\r\n    ctx.drawImage(s.spriteSource, p.x, p.y);\r\n}\r\nfunction renderAnimatedSprite(p, sprite, ctx) {\r\n    var f = sprite.animationSheet[sprite.animationName];\r\n    if (sprite.flip) {\r\n        ctx.translate(p.x, 0);\r\n        ctx.scale(-1, 1);\r\n    }\r\n    ctx.drawImage(sprite.spriteSource, f.startX + sprite.currentFrame * f.frameWidth, f.startY, f.frameWidth, f.frameHeight, sprite.flip ? -sprite.scale * f.frameWidth : p.x, p.y, f.frameWidth * sprite.scale, f.frameHeight * sprite.scale);\r\n    if (sprite.flip)\r\n        ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n    if (sprite.isPlaying) {\r\n        if (sprite.currentFrame >= f.frames - 1)\r\n            sprite.currentFrame = 0;\r\n        else\r\n            sprite.currentFrame++;\r\n    }\r\n}\r\nfunction renderImageLayer(position, layer, ctx) {\r\n    ctx.drawImage(layer.image, layer.x, layer.y, ctx.canvas.width, ctx.canvas.height);\r\n}\r\nfunction getTilesheetCoordinateById(id, sheet) {\r\n    return {\r\n        x: (id % sheet.columns) * sheet.tilewidth - sheet.tilewidth,\r\n        y: Math.floor(id / sheet.columns) * sheet.tileheight,\r\n    };\r\n}\r\nexports.getTilesheetCoordinateById = getTilesheetCoordinateById;\r\nfunction renderTileLayer(position, layer, sheet, scalingFactor, ctx) {\r\n    for (var i = 0; i < layer.data.length; i++) {\r\n        if (layer.data[i] === 0)\r\n            continue;\r\n        var _a = getTilesheetCoordinateById(layer.data[i], sheet), x = _a.x, y = _a.y;\r\n        ctx.drawImage(sheet.image, x, y, sheet.tilewidth, sheet.tileheight, position.x + (i % layer.width) * (sheet.tilewidth * scalingFactor), position.y + Math.floor(i / layer.width) * (sheet.tileheight * scalingFactor), sheet.tilewidth * scalingFactor, sheet.tileheight * scalingFactor);\r\n    }\r\n}\r\nfunction renderTiledMap(position, map, ctx) {\r\n    for (var _i = 0, _a = map.data.layers; _i < _a.length; _i++) {\r\n        var layer = _a[_i];\r\n        switch (layer.type) {\r\n            case 'imagelayer':\r\n                renderImageLayer(position, layer, ctx);\r\n                break;\r\n            case 'tilelayer':\r\n                renderTileLayer(position, layer, map.spriteSheet, map.options.scale, ctx);\r\n                break;\r\n        }\r\n    }\r\n}\r\nexports.default = (function (ctx) { return function (scene) {\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    for (var _i = 0, _a = Object.values(scene.gameEntities).filter(function (e) { return e.hasComponent('Position'); }); _i < _a.length; _i++) {\r\n        var currentEntity = _a[_i];\r\n        var position = currentEntity.get('Position');\r\n        if (currentEntity.hasComponent('Box'))\r\n            renderBox(position, currentEntity.get('Box'), ctx);\r\n        if (currentEntity.hasComponent('Label'))\r\n            renderLabel(position, currentEntity.get('Label'), ctx);\r\n        if (currentEntity.hasComponent('Sprite'))\r\n            renderSprite(position, currentEntity.get('Sprite'), ctx);\r\n        if (currentEntity.hasComponent('AnimatedSprite'))\r\n            renderAnimatedSprite(position, currentEntity.get('AnimatedSprite'), ctx);\r\n        if (currentEntity.hasComponent('TiledMap'))\r\n            renderTiledMap(position, currentEntity.get('TiledMap'), ctx);\r\n    }\r\n}; });\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Entity = /** @class */ (function () {\r\n    function Entity() {\r\n        this.id = Entity.prototype.count;\r\n        Entity.prototype.count++;\r\n    }\r\n    Entity.prototype.addComponent = function (component) {\r\n        this[component.name] = component;\r\n    };\r\n    Entity.prototype.removeComponent = function (componentName) {\r\n        delete this[componentName];\r\n    };\r\n    Entity.prototype.hasComponent = function (componentName) {\r\n        return this[componentName] != null;\r\n    };\r\n    Entity.prototype.hasComponents = function (componentArray) {\r\n        var len = componentArray.length;\r\n        for (var i = 0; i < len; i++) {\r\n            if (!this.hasComponent(componentArray[i]))\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    Entity.prototype.get = function (name) {\r\n        switch (name) {\r\n            case 'Velocity':\r\n                return this[name];\r\n            case 'Position':\r\n                return this[name];\r\n            case 'Sprite':\r\n                return this[name];\r\n            case 'AnimatedSprite':\r\n                return this[name];\r\n            case 'InputMapping':\r\n                return this[name];\r\n            case 'Label':\r\n                return this[name];\r\n            case 'Box':\r\n                return this[name];\r\n            case 'TiledMap':\r\n                return this[name];\r\n            default:\r\n                return this[name];\r\n        }\r\n    };\r\n    return Entity;\r\n}());\r\nexports.default = Entity;\r\nEntity.prototype.count = 0;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar component_1 = __webpack_require__(0);\r\nvar TiledMap = /** @class */ (function (_super) {\r\n    __extends(TiledMap, _super);\r\n    function TiledMap(data, spriteSheet, options) {\r\n        if (options === void 0) { options = { scale: 1 }; }\r\n        var _this = _super.call(this, 'TiledMap') || this;\r\n        _this.data = data;\r\n        _this.spriteSheet = spriteSheet;\r\n        _this.options = options;\r\n        return _this;\r\n    }\r\n    return TiledMap;\r\n}(component_1.default));\r\nexports.default = TiledMap;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InputMappingSystem = {\r\n    systemId: 'inputMappingSystem',\r\n    requiredComponents: ['InputMapping'],\r\n    update: function (entity, scene, services) {\r\n        var inputMapping = entity['InputMapping'];\r\n        for (var i = 0; i < inputMapping.mapping.length; i++) {\r\n            var c = inputMapping.mapping[i];\r\n            inputMapping[c.name] = services.input.isPressed(c.code);\r\n        }\r\n    },\r\n};\r\nexports.TiledMapSystem = {\r\n    systemId: 'tiledMapSystem',\r\n    requiredComponents: ['TiledMap', 'Position', 'InputMapping'],\r\n    update: function (entity, scene, services) {\r\n        var mapData = entity['TiledMap'];\r\n    },\r\n};\r\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=youngblood.js.map","import { \r\n    Game, \r\n} from 'youngblood';\r\n\r\nimport { loading } from './scene/loading';\r\nimport { ingame } from './scene/ingame';\r\n\r\nnew Game()\r\n    .addScene(loading)\r\n    .addScene(ingame)\r\n    .setFramerate(20)\r\n    .startRendering();\r\n","import { \r\n    SceneOptions, \r\n    Scene, \r\n    SceneServices, \r\n    Entity, \r\n    Position, \r\n    Sprite, \r\n    AnimatedSprite, \r\n    AnimationSheet, \r\n    InputMapping, \r\n    System, \r\n    InputMappingSystem,\r\n    TiledMap,\r\n    TiledMapData,\r\n    TiledSheetData\r\n} from \"youngblood\";\r\n\r\nexport var ingame: SceneOptions = {\r\n    sceneId: 'ingame',\r\n    alwaysInitialize: true,\r\n    init: function (context: Scene, services: SceneServices) {\r\n        context.registerSystem(InputMappingSystem);\r\n        context.registerSystem(wolfAnimationSystem);\r\n        context.registerSystem(mapMovementSystem);\r\n\r\n        const tileset = <TiledSheetData>services.assets.get('assets/forest_tileset');\r\n        const tilemap = <TiledMapData>services.assets.get('assets/forest');\r\n        const map = new Entity();\r\n        map.addComponent(new Position(0, 0));\r\n        map.addComponent(new TiledMap(tilemap, tileset, { scale: 2.5 }));\r\n        map.addComponent(new InputMapping([\r\n            { name: 'right', code: 39 },\r\n            { name: 'left', code: 37 }\r\n        ]));\r\n\r\n        context.addEntity(map);\r\n\r\n        const wolf_sheet = <HTMLImageElement>services.assets.get('assets/80x48Wolf_FullSheet');\r\n        const wolf_info = <AnimationSheet>services.assets.get('assets/wolf_info');\r\n        const wolf = new Entity();\r\n        wolf.addComponent(new Position(100, 380));\r\n        wolf.addComponent(new InputMapping([\r\n            { name: 'right', code: 39 },\r\n            { name: 'left', code: 37 }\r\n        ]));\r\n        wolf.addComponent(new AnimatedSprite(wolf_sheet, wolf_info, {\r\n            animationName: 'idle',\r\n            isPlaying: true,\r\n            loop: true,\r\n            scale: 3.0\r\n        }));\r\n\r\n        context.addEntity(wolf);\r\n    }\r\n}\r\n\r\nconst wolfAnimationSystem: System = {\r\n    systemId: 'wolfAnimationSystem',\r\n    requiredComponents: ['AnimatedSprite', 'Position', 'InputMapping'],\r\n    update: function (entity: Entity, scene: Scene, services: SceneServices) {\r\n        const sprite = entity.get('AnimatedSprite');\r\n        const pos = entity.get('Position');\r\n        const inputMapping = entity.get('InputMapping');\r\n\r\n        if (inputMapping.right) {\r\n            sprite.animationName = 'running';\r\n            sprite.flip = false;\r\n        } else if (inputMapping.left) {\r\n            sprite.animationName = 'running';\r\n            sprite.flip = true;\r\n        } else {\r\n            sprite.animationName = 'idle';\r\n        }\r\n    }\r\n}\r\n\r\nconst mapMovementSystem: System = {\r\n    systemId: 'mapMovementSystem',\r\n    requiredComponents: ['Position', 'TiledMap'],\r\n    update: function (entity, scene, services) {\r\n        const pos = entity.get('Position');\r\n        const inputMapping = entity.get('InputMapping');\r\n\r\n        if (inputMapping.right) {\r\n            pos.x -= 20;\r\n        } else if (inputMapping.left) {\r\n            pos.x += 20;\r\n        }\r\n    }\r\n}","import { SceneOptions, SceneServices, Scene,System,  InputMappingSystem, Entity, InputMapping, Label, Position } from \"youngblood\";\r\n\r\nconst LoadingIndicatorSystem: System = {\r\n    systemId: 'labelSystem',\r\n    requiredComponents: ['InputMapping', 'Label'],\r\n    update: function (entity: Entity, scene: Scene, services: SceneServices) {\r\n        let label = entity['Label'] as Label;\r\n        let inputMapping = entity['InputMapping'] as InputMapping;\r\n        \r\n        if (label.isVisible && inputMapping.proceed) {\r\n            services.game.switchToScene('ingame');\r\n        }\r\n    }\r\n};\r\n\r\nexport var loading: SceneOptions = {\r\n    sceneId: 'loading',\r\n    alwaysInitialize: false,\r\n    init: function (context: Scene, services: SceneServices) {\r\n        context.registerSystem(InputMappingSystem);\r\n        context.registerSystem(LoadingIndicatorSystem);\r\n\r\n        let handler = new Entity();\r\n        handler.addComponent(new InputMapping([\r\n            { name: 'proceed', code: 13 }\r\n        ]));\r\n\r\n        handler.addComponent(new Label(\"Loading complete. Press Enter to proceed\", { \r\n            isVisible: false,\r\n            color: '#000',\r\n            font: 'Arial' \r\n        }));\r\n\r\n        handler.addComponent(new Position(10, 10));\r\n\r\n        context.addEntity(handler);\r\n        \r\n        services.assets.load('assets/asset_list.json').then((): void => { console.log('Assets loaded'); });\r\n    }\r\n};"],"sourceRoot":""}